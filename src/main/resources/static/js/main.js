import { inventories } from './inventory.js'
import { offers } from './offers.js'
import { targets } from './targets.js'
import { history } from './history.js'
import { createTargets } from './createTargets.js?v=1.0.2'
import { settings } from './settings.js?v=1.0.1'

const inventoryBtn = document.getElementById('inventory-btn'),
    mainBlock = document.getElementById('main-block'),
    offersBtn = document.getElementById('offers-btn'),
    bottomBtns = document.getElementById('main-buttons'),
    targetsBtn = document.getElementById('targets-btn'),
    createTargetsBtn = document.getElementById('create-targets-btn'),
    historyBtn = document.getElementById('history-btn'),
    settingsBtn = document.getElementById('settings-btn')

window.controllerInventory = new AbortController();
window.controllerTargets = new AbortController();
window.controllerCreateTargets = new AbortController();
window.controllerOffers = new AbortController();
window.controllerStatistics = new AbortController();

let fetchMethod = -1
let can = -1

let access = false

const password = prompt("Введіть пароль:");

if (password !== null) {
    fetch('/api/config/login', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/text'
        },
        body: password
    })
        .then(res => res.json())
        .then(data => {
            if (data === true) {
                access = true
            }else{
                alert('Неправильний пароль!')
                location.reload();
            }
        })
}


export function setCan(value){
    can = value
}

export function isCan(){
    return can
}

inventoryBtn.addEventListener('click', () => {
    if(access){
        abortFetch()

        setCan(1)
        fetchMethod = 1

        removeActive()

        inventoryBtn.innerHTML = `
            <svg width="90" height="90" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="90" height="90" rx="16" fill="url(#paint0_linear_10_39)"/>
                <path d="M71.16 26.6C70.2 22.44 66.36 19.4 61.88 19.4H28.28C26.1351 19.4006 24.0498 20.1054 22.3444 21.4062C20.6389 22.7069 19.4078 24.5316 18.84 26.6L15.48 39.4C14.84 41.64 15.8 43.88 17.72 45.16L18.36 45.64C19.32 46.12 20.12 46.6 21.08 46.76V64.2C21.0851 65.8958 21.761 67.5207 22.9601 68.7199C24.1592 69.919 25.7842 70.5949 27.48 70.6H35C36.6958 70.5949 38.3208 69.919 39.5199 68.7199C40.719 67.5207 41.3949 65.8958 41.4 64.2V57.8H50.2V64.2C50.2051 65.8958 50.881 67.5207 52.0801 68.7199C53.2792 69.919 54.9042 70.5949 56.6 70.6H62.68C64.3758 70.5949 66.0008 69.919 67.1999 68.7199C68.399 67.5207 69.0749 65.8958 69.08 64.2V46.76C69.9877 46.6096 70.8573 46.2835 71.64 45.8L72.28 45.32C73.229 44.6946 73.9565 43.7857 74.3587 42.7227C74.7609 41.6597 74.8173 40.4969 74.52 39.4L71.16 26.6ZM63 64.2H56.6V57.8C56.5949 56.1042 55.919 54.4792 54.7199 53.2801C53.5208 52.081 51.8958 51.4051 50.2 51.4H41.4C39.7042 51.4051 38.0792 52.081 36.8801 53.2801C35.681 54.4792 35.0051 56.1042 35 57.8V64.2H27.48V45C29.56 44.2 31.8 44.52 33.72 45.64C34.848 46.4216 36.1877 46.8403 37.56 46.8403C38.9323 46.8403 40.272 46.4216 41.4 45.64C42.528 44.8584 43.8677 44.4396 45.24 44.4396C46.6123 44.4396 47.952 44.8584 49.08 45.64C50.208 46.4216 51.5477 46.8403 52.92 46.8403C54.2923 46.8403 55.632 46.4216 56.76 45.64C57.6682 45.0305 58.7122 44.6534 59.8002 44.5418C60.8882 44.4302 61.987 44.5875 63 45V64.2ZM67.64 40.36C65.4728 38.875 62.9071 38.0803 60.28 38.0803C57.6529 38.0803 55.0872 38.875 52.92 40.36C52.892 40.3971 52.8557 40.4272 52.814 40.4479C52.7724 40.4687 52.7265 40.4795 52.68 40.4795C52.6335 40.4795 52.5876 40.4687 52.546 40.4479C52.5043 40.4272 52.468 40.3971 52.44 40.36C50.2728 38.875 47.7071 38.0803 45.08 38.0803C42.4529 38.0803 39.8872 38.875 37.72 40.36C37.692 40.3971 37.6557 40.4272 37.614 40.4479C37.5724 40.4687 37.5265 40.4795 37.48 40.4795C37.4335 40.4795 37.3876 40.4687 37.346 40.4479C37.3043 40.4272 37.268 40.3971 37.24 40.36C35.0728 38.875 32.5071 38.0803 29.88 38.0803C27.2529 38.0803 24.6872 38.875 22.52 40.36C22.492 40.3971 22.4557 40.4272 22.414 40.4479C22.3724 40.4687 22.3265 40.4795 22.28 40.4795C22.2335 40.4795 22.1876 40.4687 22.146 40.4479C22.1043 40.4272 22.068 40.3971 22.04 40.36L25.08 28.2C25.4 26.76 26.68 25.8 28.28 25.8H62.04C62.7446 25.7927 63.4305 26.0268 63.9836 26.4634C64.5367 26.9001 64.9236 27.5129 65.08 28.2L68.12 40.36C68.12 40.36 67.8 40.52 67.64 40.36Z" fill="white"/>
                <defs>
                <linearGradient id="paint0_linear_10_39" x1="21.6176" y1="50.9639" x2="86.4716" y2="50.6049" gradientUnits="userSpaceOnUse">
                <stop stop-color="#74CBBA"/>
                <stop offset="1" stop-color="#8DD294"/>
                </linearGradient>
                </defs>
            </svg>
        `

        bottomBtns.innerHTML = `
            <div class="main-button" id="sold">
                <svg width="195" height="50" viewBox="0 0 195 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="195" height="50" rx="6" fill="url(#paint0_linear_16_439)"/>
                    <path d="M59.7614 33V18.4545H64.8466C65.8598 18.4545 66.6955 18.6297 67.3537 18.9801C68.0118 19.3258 68.5019 19.7921 68.8239 20.3793C69.1458 20.9616 69.3068 21.608 69.3068 22.3182C69.3068 22.9432 69.1955 23.4593 68.973 23.8665C68.7552 24.2737 68.4664 24.5956 68.1065 24.8324C67.7514 25.0691 67.3655 25.2443 66.9489 25.358V25.5C67.3939 25.5284 67.8414 25.6847 68.2912 25.9688C68.741 26.2528 69.1174 26.66 69.4205 27.1903C69.7235 27.7206 69.875 28.3693 69.875 29.1364C69.875 29.8655 69.7093 30.5213 69.3778 31.1037C69.0464 31.6861 68.5232 32.1477 67.8082 32.4886C67.0933 32.8295 66.1629 33 65.017 33H59.7614ZM61.5227 31.4375H65.017C66.1676 31.4375 66.9844 31.215 67.4673 30.7699C67.955 30.3201 68.1989 29.7756 68.1989 29.1364C68.1989 28.6439 68.0734 28.1894 67.8224 27.7727C67.5715 27.3513 67.214 27.0152 66.75 26.7642C66.286 26.5085 65.7367 26.3807 65.1023 26.3807H61.5227V31.4375ZM61.5227 24.8466H64.7898C65.3201 24.8466 65.7983 24.7424 66.2244 24.5341C66.6553 24.3258 66.9962 24.0322 67.2472 23.6534C67.5028 23.2746 67.6307 22.8295 67.6307 22.3182C67.6307 21.679 67.4081 21.1368 66.9631 20.6918C66.518 20.242 65.8125 20.017 64.8466 20.017H61.5227V24.8466ZM72.7692 18.4545H74.5021V29.9034H74.6442L82.5987 18.4545H84.3033V33H82.5419V21.5795H82.3999L74.4737 33H72.7692V18.4545ZM99.5323 23H97.771C97.6668 22.4934 97.4845 22.0483 97.2241 21.6648C96.9684 21.2812 96.6559 20.9593 96.2866 20.6989C95.922 20.4337 95.5172 20.2348 95.0721 20.1023C94.627 19.9697 94.163 19.9034 93.68 19.9034C92.7994 19.9034 92.0015 20.1259 91.2866 20.571C90.5763 21.0161 90.0105 21.6719 89.5891 22.5384C89.1725 23.4048 88.9641 24.4678 88.9641 25.7273C88.9641 26.9867 89.1725 28.0497 89.5891 28.9162C90.0105 29.7827 90.5763 30.4384 91.2866 30.8835C92.0015 31.3286 92.7994 31.5511 93.68 31.5511C94.163 31.5511 94.627 31.4848 95.0721 31.3523C95.5172 31.2197 95.922 31.0232 96.2866 30.7628C96.6559 30.4976 96.9684 30.1733 97.2241 29.7898C97.4845 29.4015 97.6668 28.9564 97.771 28.4545H99.5323C99.3997 29.1979 99.1583 29.8632 98.8079 30.4503C98.4575 31.0374 98.0219 31.5369 97.5011 31.9489C96.9802 32.3561 96.3955 32.6662 95.7468 32.8793C95.1029 33.0923 94.4139 33.1989 93.68 33.1989C92.4395 33.1989 91.3363 32.8958 90.3704 32.2898C89.4045 31.6837 88.6445 30.822 88.0906 29.7045C87.5366 28.5871 87.2596 27.2614 87.2596 25.7273C87.2596 24.1932 87.5366 22.8674 88.0906 21.75C88.6445 20.6326 89.4045 19.7708 90.3704 19.1648C91.3363 18.5587 92.4395 18.2557 93.68 18.2557C94.4139 18.2557 95.1029 18.3622 95.7468 18.5753C96.3955 18.7884 96.9802 19.1009 97.5011 19.5128C98.0219 19.92 98.4575 20.4171 98.8079 21.0043C99.1583 21.5866 99.3997 22.2519 99.5323 23ZM101.583 20.017V18.4545H112.492V20.017H107.918V33H106.157V20.017H101.583ZM114.108 33H112.261L117.602 18.4545H119.42L124.761 33H122.915L118.568 20.7557H118.455L114.108 33ZM114.79 27.3182H122.233V28.8807H114.79V27.3182ZM127.027 33V18.4545H132.112C133.125 18.4545 133.961 18.6297 134.619 18.9801C135.277 19.3258 135.768 19.7921 136.089 20.3793C136.411 20.9616 136.572 21.608 136.572 22.3182C136.572 22.9432 136.461 23.4593 136.239 23.8665C136.021 24.2737 135.732 24.5956 135.372 24.8324C135.017 25.0691 134.631 25.2443 134.214 25.358V25.5C134.66 25.5284 135.107 25.6847 135.557 25.9688C136.007 26.2528 136.383 26.66 136.686 27.1903C136.989 27.7206 137.141 28.3693 137.141 29.1364C137.141 29.8655 136.975 30.5213 136.643 31.1037C136.312 31.6861 135.789 32.1477 135.074 32.4886C134.359 32.8295 133.429 33 132.283 33H127.027ZM128.788 31.4375H132.283C133.433 31.4375 134.25 31.215 134.733 30.7699C135.221 30.3201 135.464 29.7756 135.464 29.1364C135.464 28.6439 135.339 28.1894 135.088 27.7727C134.837 27.3513 134.48 27.0152 134.016 26.7642C133.552 26.5085 133.002 26.3807 132.368 26.3807H128.788V31.4375ZM128.788 24.8466H132.055C132.586 24.8466 133.064 24.7424 133.49 24.5341C133.921 24.3258 134.262 24.0322 134.513 23.6534C134.768 23.2746 134.896 22.8295 134.896 22.3182C134.896 21.679 134.674 21.1368 134.229 20.6918C133.784 20.242 133.078 20.017 132.112 20.017H128.788V24.8466ZM140.035 18.4545H141.768V29.9034H141.91L149.864 18.4545H151.569V33H149.808V21.5795H149.665L141.739 33H140.035V18.4545ZM154.298 20.017V18.4545H165.207V20.017H160.633V33H158.872V20.017H154.298ZM167.925 18.4545H169.658V29.9034H169.8L177.755 18.4545H179.46V33H177.698V21.5795H177.556L169.63 33H167.925V18.4545Z" fill="white"/>
                    <path d="M15 39V11C15 10.4477 15.4477 10 16 10H44C44.5523 10 45 10.4477 45 11V39C45 39.5523 44.5523 40 44 40H16C15.4477 40 15 39.5523 15 39Z" stroke="white" stroke-width="3"/>
                    <path d="M35 19.1666C33.8583 18.025 31.8478 17.2309 30 17.1812M30 17.1812C27.8015 17.122 25.8333 18.1166 25.8333 20.8333C25.8333 25.8333 35 23.3333 35 28.3333C35 31.185 32.5603 32.4103 30 32.3183M30 17.1812V14.1666M25 30C26.0741 31.4321 28.0713 32.249 30 32.3183M30 32.3183V35.8333" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <defs>
                    <linearGradient id="paint0_linear_16_439" x1="46.8382" y1="28.3133" x2="187.294" y2="25.281" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#74CBBA"/>
                            <stop offset="1" stop-color="#8DD294"/>
                        </linearGradient>
                    </defs>
                </svg>
            </div>
        `

        mainBlock.innerHTML = ''


        inventories()
    }
})

offersBtn.addEventListener('click', () => {
    if(access) {
        abortFetch()


        setCan(3)
        fetchMethod = 3

        removeActive()

        offersBtn.innerHTML = `
            <svg width="90" height="90" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="90" height="90" rx="16" fill="url(#paint0_linear_17_735)"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M64.3333 25.6666H25.6667C24.332 25.6666 23.25 26.7486 23.25 28.0833V61.9166C23.25 63.2513 24.332 64.3332 25.6667 64.3332H64.3333C65.6681 64.3332 66.75 63.2513 66.75 61.9166V28.0833C66.75 26.7486 65.6681 25.6666 64.3333 25.6666ZM25.6667 20.8333C21.6626 20.8333 18.4167 24.0792 18.4167 28.0833V61.9166C18.4167 65.9208 21.6626 69.1666 25.6667 69.1666H64.3333C68.3375 69.1666 71.5833 65.9208 71.5833 61.9166V28.0833C71.5833 24.0792 68.3375 20.8333 64.3333 20.8333H25.6667ZM30.5 32.9166H35.3333V37.7499H30.5V32.9166ZM42.5833 32.9166C41.2486 32.9166 40.1667 33.9986 40.1667 35.3333C40.1667 36.6679 41.2486 37.7499 42.5833 37.7499H57.0833C58.4181 37.7499 59.5 36.6679 59.5 35.3333C59.5 33.9986 58.4181 32.9166 57.0833 32.9166H42.5833ZM35.3333 42.5833H30.5V47.4166H35.3333V42.5833ZM40.1667 44.9999C40.1667 43.6652 41.2486 42.5833 42.5833 42.5833H57.0833C58.4181 42.5833 59.5 43.6652 59.5 44.9999C59.5 46.3346 58.4181 47.4166 57.0833 47.4166H42.5833C41.2486 47.4166 40.1667 46.3346 40.1667 44.9999ZM35.3333 52.2499H30.5V57.0832H35.3333V52.2499ZM40.1667 54.6666C40.1667 53.3319 41.2486 52.2499 42.5833 52.2499H57.0833C58.4181 52.2499 59.5 53.3319 59.5 54.6666C59.5 56.0013 58.4181 57.0832 57.0833 57.0832H42.5833C41.2486 57.0832 40.1667 56.0013 40.1667 54.6666Z" fill="white"/>
                <defs>
                <linearGradient id="paint0_linear_17_735" x1="21.6176" y1="50.9639" x2="86.4716" y2="50.6049" gradientUnits="userSpaceOnUse">
                <stop stop-color="#74CBBA"/>
                <stop offset="1" stop-color="#8DD294"/>
                </linearGradient>
                </defs>
            </svg>
        `

        fetch('/api/config/competition-offers', {
            method: 'GET'
        }).then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
            .then(data => {
                console.log(data)

                if (data)
                    bottomBtns.innerHTML = `
                    <div class="main-button" id="save-btn">
                        <svg width="175" height="50" viewBox="0 0 175 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="175" height="50" rx="6" fill="url(#paint0_linear_16_438)"/>
                            <path d="M65.4205 32.1989C64.483 32.1989 63.6473 32.0379 62.9134 31.7159C62.1842 31.3939 61.6042 30.9465 61.1733 30.3736C60.7472 29.7959 60.5152 29.1259 60.4773 28.3636H62.267C62.3049 28.8324 62.4659 29.2372 62.75 29.5781C63.0341 29.9143 63.4058 30.1747 63.8651 30.3594C64.3243 30.544 64.8333 30.6364 65.392 30.6364C66.017 30.6364 66.571 30.5275 67.054 30.3097C67.5369 30.0919 67.9157 29.7888 68.1903 29.4006C68.465 29.0123 68.6023 28.5625 68.6023 28.0511C68.6023 27.5161 68.4697 27.045 68.2045 26.6378C67.9394 26.2259 67.5511 25.9039 67.0398 25.6719C66.5284 25.4399 65.9034 25.3239 65.1648 25.3239H64V23.7614H65.1648C65.7424 23.7614 66.2491 23.6572 66.6847 23.4489C67.125 23.2405 67.4683 22.947 67.7145 22.5682C67.9654 22.1894 68.0909 21.7443 68.0909 21.233C68.0909 20.7405 67.982 20.312 67.7642 19.9474C67.5464 19.5829 67.2386 19.2988 66.8409 19.0952C66.4479 18.8916 65.9839 18.7898 65.4489 18.7898C64.947 18.7898 64.4735 18.8821 64.0284 19.0668C63.5881 19.2467 63.2282 19.5095 62.9489 19.8551C62.6695 20.196 62.518 20.608 62.4943 21.0909H60.7898C60.8182 20.3286 61.0478 19.661 61.4787 19.0881C61.9096 18.5104 62.473 18.0606 63.169 17.7386C63.8698 17.4167 64.6392 17.2557 65.4773 17.2557C66.3769 17.2557 67.1487 17.438 67.7926 17.8026C68.4366 18.1624 68.9313 18.6383 69.277 19.2301C69.6226 19.822 69.7955 20.4612 69.7955 21.1477C69.7955 21.9669 69.58 22.6652 69.1491 23.2429C68.723 23.8205 68.143 24.2206 67.4091 24.4432V24.5568C68.3277 24.7083 69.045 25.099 69.5611 25.7287C70.0772 26.3537 70.3352 27.1278 70.3352 28.0511C70.3352 28.8419 70.1198 29.5521 69.6889 30.1818C69.2628 30.8068 68.6804 31.2992 67.9418 31.6591C67.2031 32.0189 66.3627 32.1989 65.4205 32.1989ZM73.4957 32V17.4545H82.2741V19.017H75.2571V23.5625H78.9503C79.992 23.5625 80.8703 23.733 81.5852 24.0739C82.3049 24.4148 82.8494 24.8954 83.2188 25.5156C83.5928 26.1359 83.7798 26.8674 83.7798 27.7102C83.7798 28.553 83.5928 29.2964 83.2188 29.9403C82.8494 30.5843 82.3049 31.0885 81.5852 31.4531C80.8703 31.8177 79.992 32 78.9503 32H73.4957ZM75.2571 30.4659H78.9503C79.6132 30.4659 80.1742 30.3333 80.6335 30.0682C81.0975 29.7983 81.4479 29.4527 81.6847 29.0312C81.9261 28.6051 82.0469 28.1553 82.0469 27.6818C82.0469 26.9858 81.7794 26.3868 81.2443 25.8849C80.7093 25.3783 79.9446 25.125 78.9503 25.125H75.2571V30.4659ZM86.6793 32V17.4545H95.4577V19.017H88.4407V23.9318H95.0032V25.4943H88.4407V30.4375H95.5714V32H86.6793ZM98.6325 32V17.4545H103.547C104.688 17.4545 105.621 17.6605 106.346 18.0724C107.075 18.4796 107.614 19.0312 107.965 19.7273C108.315 20.4233 108.49 21.1998 108.49 22.0568C108.49 22.9138 108.315 23.6927 107.965 24.3935C107.619 25.0942 107.084 25.6529 106.36 26.0696C105.635 26.4815 104.707 26.6875 103.576 26.6875H100.053V25.125H103.519C104.3 25.125 104.927 24.9901 105.401 24.7202C105.874 24.4503 106.218 24.0857 106.431 23.6264C106.649 23.1624 106.757 22.6392 106.757 22.0568C106.757 21.4744 106.649 20.9536 106.431 20.4943C106.218 20.035 105.872 19.6752 105.394 19.4148C104.916 19.1496 104.281 19.017 103.49 19.017H100.394V32H98.6325ZM111.328 32V17.4545H120.106V19.017H113.089V23.9318H119.652V25.4943H113.089V30.4375H120.22V32H111.328ZM132.059 17.4545V19.017H125.042V32H123.281V17.4545H132.059ZM133.989 19.017V17.4545H144.898V19.017H140.325V32H138.563V19.017H133.989ZM147.617 17.4545H149.35V28.9034H149.492L157.446 17.4545H159.151V32H157.39V20.5795H157.248L149.321 32H147.617V17.4545Z" fill="white"/>
                            <path d="M40.875 39.125H18.125C17.263 39.125 16.4364 38.7826 15.8269 38.1731C15.2174 37.5636 14.875 36.737 14.875 35.875V13.125C14.875 12.263 15.2174 11.4364 15.8269 10.8269C16.4364 10.2174 17.263 9.875 18.125 9.875H36L44.125 18V35.875C44.125 36.737 43.7826 37.5636 43.1731 38.1731C42.5636 38.7826 41.737 39.125 40.875 39.125Z" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M37.625 39.125V26.125H21.375V39.125" stroke="white" stroke-width="2" stroke-linejoin="round"/>
                            <path d="M21.375 9.875V18H34.375" stroke="white" stroke-width="2" stroke-linejoin="round"/>
                            <defs>
                            <linearGradient id="paint0_linear_16_438" x1="42.0343" y1="28.3133" x2="168.096" y2="25.8709" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#74CBBA"/>
                            <stop offset="1" stop-color="#8DD294"/>
                            </linearGradient>
                            </defs>
                        </svg>
                    </div>
            
                    <div class="main-button" id="competition-btn">
                        <svg width="297" height="50" viewBox="0 0 297 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="297" height="50" rx="6" fill="url(#paint0_linear_18_1153)"/>
                        <path d="M63.2891 32L58.2891 25.3239H56.4993V32H54.7379V17.4545H56.4993V23.7614H57.2663L63.0902 17.4545H65.1925L59.3118 23.8466L65.3913 32H63.2891ZM79.2567 24.7273C79.2567 26.2614 78.9798 27.5871 78.4258 28.7045C77.8718 29.822 77.1119 30.6837 76.146 31.2898C75.18 31.8958 74.0768 32.1989 72.8363 32.1989C71.5958 32.1989 70.4925 31.8958 69.5266 31.2898C68.5607 30.6837 67.8008 29.822 67.2468 28.7045C66.6928 27.5871 66.4158 26.2614 66.4158 24.7273C66.4158 23.1932 66.6928 21.8674 67.2468 20.75C67.8008 19.6326 68.5607 18.7708 69.5266 18.1648C70.4925 17.5587 71.5958 17.2557 72.8363 17.2557C74.0768 17.2557 75.18 17.5587 76.146 18.1648C77.1119 18.7708 77.8718 19.6326 78.4258 20.75C78.9798 21.8674 79.2567 23.1932 79.2567 24.7273ZM77.5522 24.7273C77.5522 23.4678 77.3415 22.4048 76.9201 21.5384C76.5034 20.6719 75.9376 20.0161 75.2227 19.571C74.5124 19.1259 73.717 18.9034 72.8363 18.9034C71.9556 18.9034 71.1578 19.1259 70.4428 19.571C69.7326 20.0161 69.1668 20.6719 68.7454 21.5384C68.3287 22.4048 68.1204 23.4678 68.1204 24.7273C68.1204 25.9867 68.3287 27.0497 68.7454 27.9162C69.1668 28.7827 69.7326 29.4384 70.4428 29.8835C71.1578 30.3286 71.9556 30.5511 72.8363 30.5511C73.717 30.5511 74.5124 30.3286 75.2227 29.8835C75.9376 29.4384 76.5034 28.7827 76.9201 27.9162C77.3415 27.0497 77.5522 25.9867 77.5522 24.7273ZM82.2184 32V17.4545H83.9798V23.9318H91.7354V17.4545H93.4968V32H91.7354V25.4943H83.9798V32H82.2184ZM105.574 32L100.574 25.3239H98.7844V32H97.0231V17.4545H98.7844V23.7614H99.5515L105.375 17.4545H107.478L101.597 23.8466L107.676 32H105.574ZM110.72 32.1989V30.5511H111.629C111.979 30.5511 112.273 30.4825 112.51 30.3452C112.751 30.2079 112.95 30.0303 113.106 29.8125C113.267 29.5947 113.4 29.3674 113.504 29.1307L113.731 28.5909L108.703 17.4545H110.606L114.612 26.4886L118.277 17.4545H120.152L115.123 29.642C114.924 30.0966 114.697 30.518 114.441 30.9062C114.19 31.2945 113.847 31.607 113.412 31.8438C112.981 32.0805 112.396 32.1989 111.657 32.1989H110.72ZM122.433 32V17.4545H127.348C128.489 17.4545 129.422 17.6605 130.146 18.0724C130.875 18.4796 131.415 19.0312 131.766 19.7273C132.116 20.4233 132.291 21.1998 132.291 22.0568C132.291 22.9138 132.116 23.6927 131.766 24.3935C131.42 25.0942 130.885 25.6529 130.161 26.0696C129.436 26.4815 128.508 26.6875 127.376 26.6875H123.854V25.125H127.32C128.101 25.125 128.728 24.9901 129.202 24.7202C129.675 24.4503 130.018 24.0857 130.232 23.6264C130.449 23.1624 130.558 22.6392 130.558 22.0568C130.558 21.4744 130.449 20.9536 130.232 20.4943C130.018 20.035 129.673 19.6752 129.195 19.4148C128.716 19.1496 128.082 19.017 127.291 19.017H124.195V32H122.433ZM135.896 32.1989V30.5511H136.805C137.155 30.5511 137.449 30.4825 137.685 30.3452C137.927 30.2079 138.126 30.0303 138.282 29.8125C138.443 29.5947 138.576 29.3674 138.68 29.1307L138.907 28.5909L133.879 17.4545H135.782L139.788 26.4886L143.452 17.4545H145.327L140.299 29.642C140.1 30.0966 139.873 30.518 139.617 30.9062C139.366 31.2945 139.023 31.607 138.587 31.8438C138.156 32.0805 137.572 32.1989 136.833 32.1989H135.896ZM147.609 32V17.4545H152.694C153.708 17.4545 154.543 17.6297 155.201 17.9801C155.859 18.3258 156.35 18.7921 156.672 19.3793C156.993 19.9616 157.154 20.608 157.154 21.3182C157.154 21.9432 157.043 22.4593 156.821 22.8665C156.603 23.2737 156.314 23.5956 155.954 23.8324C155.599 24.0691 155.213 24.2443 154.797 24.358V24.5C155.242 24.5284 155.689 24.6847 156.139 24.9688C156.589 25.2528 156.965 25.66 157.268 26.1903C157.571 26.7206 157.723 27.3693 157.723 28.1364C157.723 28.8655 157.557 29.5213 157.225 30.1037C156.894 30.6861 156.371 31.1477 155.656 31.4886C154.941 31.8295 154.011 32 152.865 32H147.609ZM149.37 30.4375H152.865C154.015 30.4375 154.832 30.215 155.315 29.7699C155.803 29.3201 156.047 28.7756 156.047 28.1364C156.047 27.6439 155.921 27.1894 155.67 26.7727C155.419 26.3513 155.062 26.0152 154.598 25.7642C154.134 25.5085 153.584 25.3807 152.95 25.3807H149.37V30.4375ZM149.37 23.8466H152.637C153.168 23.8466 153.646 23.7424 154.072 23.5341C154.503 23.3258 154.844 23.0322 155.095 22.6534C155.35 22.2746 155.478 21.8295 155.478 21.3182C155.478 20.679 155.256 20.1368 154.811 19.6918C154.366 19.242 153.66 19.017 152.694 19.017H149.37V23.8466ZM161.213 32H159.367L164.708 17.4545H166.526L171.867 32H170.02L165.674 19.7557H165.56L161.213 32ZM161.895 26.3182H169.338V27.8807H161.895V26.3182ZM171.638 19.017V17.4545H182.547V19.017H177.973V32H176.212V19.017H171.638ZM185.265 17.4545H186.998V28.9034H187.14L195.095 17.4545H196.799V32H195.038V20.5795H194.896L186.97 32H185.265V17.4545Z" fill="white"/>
                        <path d="M38.75 23.375L29.375 14L20 23.375" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M38.75 36.5L29.375 27.125L20 36.5" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <rect x="210" y="6" width="77" height="38.8889" rx="19.4444" fill="#1D1F20"/>
                        <rect x="249" y="9" width="32.6667" height="32.906" rx="16.3333" fill="url(#paint1_linear_18_1153)"/>
                        <defs>
                        <linearGradient id="paint0_linear_18_1153" x1="71.3382" y1="28.3133" x2="285.132" y2="21.2835" gradientUnits="userSpaceOnUse">
                        <stop stop-color="#74CBBA"/>
                        <stop offset="1" stop-color="#8DD294"/>
                        </linearGradient>
                        <linearGradient id="paint1_linear_18_1153" x1="256.846" y1="27.6335" x2="280.386" y2="27.5042" gradientUnits="userSpaceOnUse">
                        <stop stop-color="#74CBBA"/>
                        <stop offset="1" stop-color="#8DD294"/>
                        </linearGradient>
                        </defs>
                        </svg>
                    </div>
                `
                else
                    bottomBtns.innerHTML = `
                    <div class="main-button" id="save-btn">
                        <svg width="175" height="50" viewBox="0 0 175 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="175" height="50" rx="6" fill="url(#paint0_linear_16_438)"/>
                            <path d="M65.4205 32.1989C64.483 32.1989 63.6473 32.0379 62.9134 31.7159C62.1842 31.3939 61.6042 30.9465 61.1733 30.3736C60.7472 29.7959 60.5152 29.1259 60.4773 28.3636H62.267C62.3049 28.8324 62.4659 29.2372 62.75 29.5781C63.0341 29.9143 63.4058 30.1747 63.8651 30.3594C64.3243 30.544 64.8333 30.6364 65.392 30.6364C66.017 30.6364 66.571 30.5275 67.054 30.3097C67.5369 30.0919 67.9157 29.7888 68.1903 29.4006C68.465 29.0123 68.6023 28.5625 68.6023 28.0511C68.6023 27.5161 68.4697 27.045 68.2045 26.6378C67.9394 26.2259 67.5511 25.9039 67.0398 25.6719C66.5284 25.4399 65.9034 25.3239 65.1648 25.3239H64V23.7614H65.1648C65.7424 23.7614 66.2491 23.6572 66.6847 23.4489C67.125 23.2405 67.4683 22.947 67.7145 22.5682C67.9654 22.1894 68.0909 21.7443 68.0909 21.233C68.0909 20.7405 67.982 20.312 67.7642 19.9474C67.5464 19.5829 67.2386 19.2988 66.8409 19.0952C66.4479 18.8916 65.9839 18.7898 65.4489 18.7898C64.947 18.7898 64.4735 18.8821 64.0284 19.0668C63.5881 19.2467 63.2282 19.5095 62.9489 19.8551C62.6695 20.196 62.518 20.608 62.4943 21.0909H60.7898C60.8182 20.3286 61.0478 19.661 61.4787 19.0881C61.9096 18.5104 62.473 18.0606 63.169 17.7386C63.8698 17.4167 64.6392 17.2557 65.4773 17.2557C66.3769 17.2557 67.1487 17.438 67.7926 17.8026C68.4366 18.1624 68.9313 18.6383 69.277 19.2301C69.6226 19.822 69.7955 20.4612 69.7955 21.1477C69.7955 21.9669 69.58 22.6652 69.1491 23.2429C68.723 23.8205 68.143 24.2206 67.4091 24.4432V24.5568C68.3277 24.7083 69.045 25.099 69.5611 25.7287C70.0772 26.3537 70.3352 27.1278 70.3352 28.0511C70.3352 28.8419 70.1198 29.5521 69.6889 30.1818C69.2628 30.8068 68.6804 31.2992 67.9418 31.6591C67.2031 32.0189 66.3627 32.1989 65.4205 32.1989ZM73.4957 32V17.4545H82.2741V19.017H75.2571V23.5625H78.9503C79.992 23.5625 80.8703 23.733 81.5852 24.0739C82.3049 24.4148 82.8494 24.8954 83.2188 25.5156C83.5928 26.1359 83.7798 26.8674 83.7798 27.7102C83.7798 28.553 83.5928 29.2964 83.2188 29.9403C82.8494 30.5843 82.3049 31.0885 81.5852 31.4531C80.8703 31.8177 79.992 32 78.9503 32H73.4957ZM75.2571 30.4659H78.9503C79.6132 30.4659 80.1742 30.3333 80.6335 30.0682C81.0975 29.7983 81.4479 29.4527 81.6847 29.0312C81.9261 28.6051 82.0469 28.1553 82.0469 27.6818C82.0469 26.9858 81.7794 26.3868 81.2443 25.8849C80.7093 25.3783 79.9446 25.125 78.9503 25.125H75.2571V30.4659ZM86.6793 32V17.4545H95.4577V19.017H88.4407V23.9318H95.0032V25.4943H88.4407V30.4375H95.5714V32H86.6793ZM98.6325 32V17.4545H103.547C104.688 17.4545 105.621 17.6605 106.346 18.0724C107.075 18.4796 107.614 19.0312 107.965 19.7273C108.315 20.4233 108.49 21.1998 108.49 22.0568C108.49 22.9138 108.315 23.6927 107.965 24.3935C107.619 25.0942 107.084 25.6529 106.36 26.0696C105.635 26.4815 104.707 26.6875 103.576 26.6875H100.053V25.125H103.519C104.3 25.125 104.927 24.9901 105.401 24.7202C105.874 24.4503 106.218 24.0857 106.431 23.6264C106.649 23.1624 106.757 22.6392 106.757 22.0568C106.757 21.4744 106.649 20.9536 106.431 20.4943C106.218 20.035 105.872 19.6752 105.394 19.4148C104.916 19.1496 104.281 19.017 103.49 19.017H100.394V32H98.6325ZM111.328 32V17.4545H120.106V19.017H113.089V23.9318H119.652V25.4943H113.089V30.4375H120.22V32H111.328ZM132.059 17.4545V19.017H125.042V32H123.281V17.4545H132.059ZM133.989 19.017V17.4545H144.898V19.017H140.325V32H138.563V19.017H133.989ZM147.617 17.4545H149.35V28.9034H149.492L157.446 17.4545H159.151V32H157.39V20.5795H157.248L149.321 32H147.617V17.4545Z" fill="white"/>
                            <path d="M40.875 39.125H18.125C17.263 39.125 16.4364 38.7826 15.8269 38.1731C15.2174 37.5636 14.875 36.737 14.875 35.875V13.125C14.875 12.263 15.2174 11.4364 15.8269 10.8269C16.4364 10.2174 17.263 9.875 18.125 9.875H36L44.125 18V35.875C44.125 36.737 43.7826 37.5636 43.1731 38.1731C42.5636 38.7826 41.737 39.125 40.875 39.125Z" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M37.625 39.125V26.125H21.375V39.125" stroke="white" stroke-width="2" stroke-linejoin="round"/>
                            <path d="M21.375 9.875V18H34.375" stroke="white" stroke-width="2" stroke-linejoin="round"/>
                            <defs>
                            <linearGradient id="paint0_linear_16_438" x1="42.0343" y1="28.3133" x2="168.096" y2="25.8709" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#74CBBA"/>
                            <stop offset="1" stop-color="#8DD294"/>
                            </linearGradient>
                            </defs>
                        </svg>
                    </div>
                    
                    <div class="main-button" id="competition-btn">
                        <svg width="297" height="50" viewBox="0 0 297 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="297" height="50" rx="6" fill="#1D1F20"/>
                        <path d="M63.2891 32L58.2891 25.3239H56.4993V32H54.7379V17.4545H56.4993V23.7614H57.2663L63.0902 17.4545H65.1925L59.3118 23.8466L65.3913 32H63.2891ZM79.2567 24.7273C79.2567 26.2614 78.9798 27.5871 78.4258 28.7045C77.8718 29.822 77.1119 30.6837 76.146 31.2898C75.18 31.8958 74.0768 32.1989 72.8363 32.1989C71.5958 32.1989 70.4925 31.8958 69.5266 31.2898C68.5607 30.6837 67.8008 29.822 67.2468 28.7045C66.6928 27.5871 66.4158 26.2614 66.4158 24.7273C66.4158 23.1932 66.6928 21.8674 67.2468 20.75C67.8008 19.6326 68.5607 18.7708 69.5266 18.1648C70.4925 17.5587 71.5958 17.2557 72.8363 17.2557C74.0768 17.2557 75.18 17.5587 76.146 18.1648C77.1119 18.7708 77.8718 19.6326 78.4258 20.75C78.9798 21.8674 79.2567 23.1932 79.2567 24.7273ZM77.5522 24.7273C77.5522 23.4678 77.3415 22.4048 76.9201 21.5384C76.5034 20.6719 75.9376 20.0161 75.2227 19.571C74.5124 19.1259 73.717 18.9034 72.8363 18.9034C71.9556 18.9034 71.1578 19.1259 70.4428 19.571C69.7326 20.0161 69.1668 20.6719 68.7454 21.5384C68.3287 22.4048 68.1204 23.4678 68.1204 24.7273C68.1204 25.9867 68.3287 27.0497 68.7454 27.9162C69.1668 28.7827 69.7326 29.4384 70.4428 29.8835C71.1578 30.3286 71.9556 30.5511 72.8363 30.5511C73.717 30.5511 74.5124 30.3286 75.2227 29.8835C75.9376 29.4384 76.5034 28.7827 76.9201 27.9162C77.3415 27.0497 77.5522 25.9867 77.5522 24.7273ZM82.2184 32V17.4545H83.9798V23.9318H91.7354V17.4545H93.4968V32H91.7354V25.4943H83.9798V32H82.2184ZM105.574 32L100.574 25.3239H98.7844V32H97.0231V17.4545H98.7844V23.7614H99.5515L105.375 17.4545H107.478L101.597 23.8466L107.676 32H105.574ZM110.72 32.1989V30.5511H111.629C111.979 30.5511 112.273 30.4825 112.51 30.3452C112.751 30.2079 112.95 30.0303 113.106 29.8125C113.267 29.5947 113.4 29.3674 113.504 29.1307L113.731 28.5909L108.703 17.4545H110.606L114.612 26.4886L118.277 17.4545H120.152L115.123 29.642C114.924 30.0966 114.697 30.518 114.441 30.9062C114.19 31.2945 113.847 31.607 113.412 31.8438C112.981 32.0805 112.396 32.1989 111.657 32.1989H110.72ZM122.433 32V17.4545H127.348C128.489 17.4545 129.422 17.6605 130.146 18.0724C130.875 18.4796 131.415 19.0312 131.766 19.7273C132.116 20.4233 132.291 21.1998 132.291 22.0568C132.291 22.9138 132.116 23.6927 131.766 24.3935C131.42 25.0942 130.885 25.6529 130.161 26.0696C129.436 26.4815 128.508 26.6875 127.376 26.6875H123.854V25.125H127.32C128.101 25.125 128.728 24.9901 129.202 24.7202C129.675 24.4503 130.018 24.0857 130.232 23.6264C130.449 23.1624 130.558 22.6392 130.558 22.0568C130.558 21.4744 130.449 20.9536 130.232 20.4943C130.018 20.035 129.673 19.6752 129.195 19.4148C128.716 19.1496 128.082 19.017 127.291 19.017H124.195V32H122.433ZM135.896 32.1989V30.5511H136.805C137.155 30.5511 137.449 30.4825 137.685 30.3452C137.927 30.2079 138.126 30.0303 138.282 29.8125C138.443 29.5947 138.576 29.3674 138.68 29.1307L138.907 28.5909L133.879 17.4545H135.782L139.788 26.4886L143.452 17.4545H145.327L140.299 29.642C140.1 30.0966 139.873 30.518 139.617 30.9062C139.366 31.2945 139.023 31.607 138.587 31.8438C138.156 32.0805 137.572 32.1989 136.833 32.1989H135.896ZM147.609 32V17.4545H152.694C153.708 17.4545 154.543 17.6297 155.201 17.9801C155.859 18.3258 156.35 18.7921 156.672 19.3793C156.993 19.9616 157.154 20.608 157.154 21.3182C157.154 21.9432 157.043 22.4593 156.821 22.8665C156.603 23.2737 156.314 23.5956 155.954 23.8324C155.599 24.0691 155.213 24.2443 154.797 24.358V24.5C155.242 24.5284 155.689 24.6847 156.139 24.9688C156.589 25.2528 156.965 25.66 157.268 26.1903C157.571 26.7206 157.723 27.3693 157.723 28.1364C157.723 28.8655 157.557 29.5213 157.225 30.1037C156.894 30.6861 156.371 31.1477 155.656 31.4886C154.941 31.8295 154.011 32 152.865 32H147.609ZM149.37 30.4375H152.865C154.015 30.4375 154.832 30.215 155.315 29.7699C155.803 29.3201 156.047 28.7756 156.047 28.1364C156.047 27.6439 155.921 27.1894 155.67 26.7727C155.419 26.3513 155.062 26.0152 154.598 25.7642C154.134 25.5085 153.584 25.3807 152.95 25.3807H149.37V30.4375ZM149.37 23.8466H152.637C153.168 23.8466 153.646 23.7424 154.072 23.5341C154.503 23.3258 154.844 23.0322 155.095 22.6534C155.35 22.2746 155.478 21.8295 155.478 21.3182C155.478 20.679 155.256 20.1368 154.811 19.6918C154.366 19.242 153.66 19.017 152.694 19.017H149.37V23.8466ZM161.213 32H159.367L164.708 17.4545H166.526L171.867 32H170.02L165.674 19.7557H165.56L161.213 32ZM161.895 26.3182H169.338V27.8807H161.895V26.3182ZM171.638 19.017V17.4545H182.547V19.017H177.973V32H176.212V19.017H171.638ZM185.265 17.4545H186.998V28.9034H187.14L195.095 17.4545H196.799V32H195.038V20.5795H194.896L186.97 32H185.265V17.4545Z" fill="white"/>
                        <path d="M38.75 23.375L29.375 14L20 23.375" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M38.75 36.5L29.375 27.125L20 36.5" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <rect x="210" y="6" width="77" height="38.8889" rx="19.4444" fill="#232627"/>
                        <rect x="214.667" y="8.99146" width="32.6667" height="32.906" rx="16.3333" fill="url(#paint0_linear_18_1144)"/>
                        <defs>
                        <linearGradient id="paint0_linear_18_1144" x1="222.513" y1="27.625" x2="246.053" y2="27.4956" gradientUnits="userSpaceOnUse">
                        <stop stop-color="#74CBBA"/>
                        <stop offset="1" stop-color="#8DD294"/>
                        </linearGradient>
                        </defs>
                        </svg>
                    </div>
                `
            })

        mainBlock.innerHTML = ''

        offers()
    }
})

createTargetsBtn.addEventListener('click', () =>{
    if(access) {

        abortFetch()

        setCan(4)
        fetchMethod = 4

        removeActive()

        createTargetsBtn.innerHTML = `
            <svg width="90" height="90" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="90" height="90" rx="16" fill="url(#paint0_linear_17_735)"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M64.3333 25.6666H25.6667C24.332 25.6666 23.25 26.7486 23.25 28.0833V61.9166C23.25 63.2513 24.332 64.3332 25.6667 64.3332H64.3333C65.6681 64.3332 66.75 63.2513 66.75 61.9166V28.0833C66.75 26.7486 65.6681 25.6666 64.3333 25.6666ZM25.6667 20.8333C21.6626 20.8333 18.4167 24.0792 18.4167 28.0833V61.9166C18.4167 65.9208 21.6626 69.1666 25.6667 69.1666H64.3333C68.3375 69.1666 71.5833 65.9208 71.5833 61.9166V28.0833C71.5833 24.0792 68.3375 20.8333 64.3333 20.8333H25.6667ZM30.5 32.9166H35.3333V37.7499H30.5V32.9166ZM42.5833 32.9166C41.2486 32.9166 40.1667 33.9986 40.1667 35.3333C40.1667 36.6679 41.2486 37.7499 42.5833 37.7499H57.0833C58.4181 37.7499 59.5 36.6679 59.5 35.3333C59.5 33.9986 58.4181 32.9166 57.0833 32.9166H42.5833ZM35.3333 42.5833H30.5V47.4166H35.3333V42.5833ZM40.1667 44.9999C40.1667 43.6652 41.2486 42.5833 42.5833 42.5833H57.0833C58.4181 42.5833 59.5 43.6652 59.5 44.9999C59.5 46.3346 58.4181 47.4166 57.0833 47.4166H42.5833C41.2486 47.4166 40.1667 46.3346 40.1667 44.9999ZM35.3333 52.2499H30.5V57.0832H35.3333V52.2499ZM40.1667 54.6666C40.1667 53.3319 41.2486 52.2499 42.5833 52.2499H57.0833C58.4181 52.2499 59.5 53.3319 59.5 54.6666C59.5 56.0013 58.4181 57.0832 57.0833 57.0832H42.5833C41.2486 57.0832 40.1667 56.0013 40.1667 54.6666Z" fill="white"/>
                <defs>
                <linearGradient id="paint0_linear_17_735" x1="21.6176" y1="50.9639" x2="86.4716" y2="50.6049" gradientUnits="userSpaceOnUse">
                <stop stop-color="#74CBBA"/>
                <stop offset="1" stop-color="#8DD294"/>
                </linearGradient>
                </defs>
            </svg>
        `

            mainBlock.innerHTML = ''

            bottomBtns.innerHTML = `
            <div class="main-button" id="update-info">
                <svg width="180" height="50" viewBox="0 0 180 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="180" height="50" rx="6" fill="url(#paint0_linear_16_437)"/>
                <g clip-path="url(#clip0_16_437)">
                <path d="M46.75 21.7188H34.8763L39.68 16.7837C34.9025 12.05 27.1675 11.875 22.39 16.6087C17.6125 21.3425 17.6125 29.0075 22.39 33.7413C27.1675 38.475 34.9025 38.475 39.68 33.7413C42.06 31.3788 43.25 28.64 43.2413 25.175H46.75C46.75 28.64 45.21 33.1375 42.13 36.1912C35.9875 42.2725 26.0125 42.2725 19.87 36.1912C13.7275 30.11 13.6838 20.2487 19.8263 14.1675C25.96 8.08625 35.83 8.08625 41.9638 14.1675L46.75 9.25V21.7188ZM31.875 18V25.4375L38 29.0775L36.74 31.195L29.25 26.75V18H31.875Z" fill="white"/>
                </g>
                <path d="M76.0341 24.7273C76.0341 26.2614 75.7571 27.5871 75.2031 28.7045C74.6491 29.822 73.8892 30.6837 72.9233 31.2898C71.9574 31.8958 70.8542 32.1989 69.6136 32.1989C68.3731 32.1989 67.2699 31.8958 66.304 31.2898C65.3381 30.6837 64.5781 29.822 64.0241 28.7045C63.4702 27.5871 63.1932 26.2614 63.1932 24.7273C63.1932 23.1932 63.4702 21.8674 64.0241 20.75C64.5781 19.6326 65.3381 18.7708 66.304 18.1648C67.2699 17.5587 68.3731 17.2557 69.6136 17.2557C70.8542 17.2557 71.9574 17.5587 72.9233 18.1648C73.8892 18.7708 74.6491 19.6326 75.2031 20.75C75.7571 21.8674 76.0341 23.1932 76.0341 24.7273ZM74.3295 24.7273C74.3295 23.4678 74.1188 22.4048 73.6974 21.5384C73.2808 20.6719 72.715 20.0161 72 19.571C71.2898 19.1259 70.4943 18.9034 69.6136 18.9034C68.733 18.9034 67.9351 19.1259 67.2202 19.571C66.5099 20.0161 65.9441 20.6719 65.5227 21.5384C65.1061 22.4048 64.8977 23.4678 64.8977 24.7273C64.8977 25.9867 65.1061 27.0497 65.5227 27.9162C65.9441 28.7827 66.5099 29.4384 67.2202 29.8835C67.9351 30.3286 68.733 30.5511 69.6136 30.5511C70.4943 30.5511 71.2898 30.3286 72 29.8835C72.715 29.4384 73.2808 28.7827 73.6974 27.9162C74.1188 27.0497 74.3295 25.9867 74.3295 24.7273ZM78.9957 32V17.4545H80.7571V23.9318H88.5128V17.4545H90.2741V32H88.5128V25.4943H80.7571V32H78.9957ZM106.073 24.7273C106.073 26.2614 105.796 27.5871 105.242 28.7045C104.688 29.822 103.928 30.6837 102.962 31.2898C101.996 31.8958 100.893 32.1989 99.6527 32.1989C98.4122 32.1989 97.3089 31.8958 96.343 31.2898C95.3771 30.6837 94.6172 29.822 94.0632 28.7045C93.5092 27.5871 93.2322 26.2614 93.2322 24.7273C93.2322 23.1932 93.5092 21.8674 94.0632 20.75C94.6172 19.6326 95.3771 18.7708 96.343 18.1648C97.3089 17.5587 98.4122 17.2557 99.6527 17.2557C100.893 17.2557 101.996 17.5587 102.962 18.1648C103.928 18.7708 104.688 19.6326 105.242 20.75C105.796 21.8674 106.073 23.1932 106.073 24.7273ZM104.369 24.7273C104.369 23.4678 104.158 22.4048 103.737 21.5384C103.32 20.6719 102.754 20.0161 102.039 19.571C101.329 19.1259 100.533 18.9034 99.6527 18.9034C98.772 18.9034 97.9742 19.1259 97.2592 19.571C96.549 20.0161 95.9832 20.6719 95.5618 21.5384C95.1451 22.4048 94.9368 23.4678 94.9368 24.7273C94.9368 25.9867 95.1451 27.0497 95.5618 27.9162C95.9832 28.7827 96.549 29.4384 97.2592 29.8835C97.9742 30.3286 98.772 30.5511 99.6527 30.5511C100.533 30.5511 101.329 30.3286 102.039 29.8835C102.754 29.4384 103.32 28.7827 103.737 27.9162C104.158 27.0497 104.369 25.9867 104.369 24.7273ZM109.035 32V17.4545H114.12C115.133 17.4545 115.969 17.6297 116.627 17.9801C117.285 18.3258 117.775 18.7921 118.097 19.3793C118.419 19.9616 118.58 20.608 118.58 21.3182C118.58 21.9432 118.469 22.4593 118.246 22.8665C118.029 23.2737 117.74 23.5956 117.38 23.8324C117.025 24.0691 116.639 24.2443 116.222 24.358V24.5C116.667 24.5284 117.115 24.6847 117.565 24.9688C118.014 25.2528 118.391 25.66 118.694 26.1903C118.997 26.7206 119.148 27.3693 119.148 28.1364C119.148 28.8655 118.983 29.5213 118.651 30.1037C118.32 30.6861 117.797 31.1477 117.082 31.4886C116.367 31.8295 115.436 32 114.29 32H109.035ZM110.796 30.4375H114.29C115.441 30.4375 116.258 30.215 116.741 29.7699C117.228 29.3201 117.472 28.7756 117.472 28.1364C117.472 27.6439 117.347 27.1894 117.096 26.7727C116.845 26.3513 116.487 26.0152 116.023 25.7642C115.559 25.5085 115.01 25.3807 114.376 25.3807H110.796V30.4375ZM110.796 23.8466H114.063C114.594 23.8466 115.072 23.7424 115.498 23.5341C115.929 23.3258 116.27 23.0322 116.521 22.6534C116.776 22.2746 116.904 21.8295 116.904 21.3182C116.904 20.679 116.682 20.1368 116.237 19.6918C115.791 19.242 115.086 19.017 114.12 19.017H110.796V23.8466ZM122.043 17.4545H123.776V28.9034H123.918L131.872 17.4545H133.577V32H131.815V20.5795H131.673L123.747 32H122.043V17.4545ZM136.306 19.017V17.4545H147.215V19.017H142.641V32H140.88V19.017H136.306ZM149.933 17.4545H151.666V28.9034H151.808L159.763 17.4545H161.467V32H159.706V20.5795H159.564L151.638 32H149.933V17.4545Z" fill="white"/>
                <defs>
                <linearGradient id="paint0_linear_16_437" x1="43.2353" y1="28.3133" x2="172.896" y2="25.7294" gradientUnits="userSpaceOnUse">
                <stop stop-color="#74CBBA"/>
                <stop offset="1" stop-color="#8DD294"/>
                </linearGradient>
                <clipPath id="clip0_16_437">
                <rect width="42" height="42" fill="white" transform="translate(10 4)"/>
                </clipPath>
                </defs>
                </svg>
            </div>
            
            <div class="main-button" id="create-targets">
                <svg width="175" height="50" viewBox="0 0 175 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="175" height="50" rx="6" fill="url(#paint0_linear_16_438)"/>
                <path d="M65.4205 32.1989C64.483 32.1989 63.6473 32.0379 62.9134 31.7159C62.1842 31.3939 61.6042 30.9465 61.1733 30.3736C60.7472 29.7959 60.5152 29.1259 60.4773 28.3636H62.267C62.3049 28.8324 62.4659 29.2372 62.75 29.5781C63.0341 29.9143 63.4058 30.1747 63.8651 30.3594C64.3243 30.544 64.8333 30.6364 65.392 30.6364C66.017 30.6364 66.571 30.5275 67.054 30.3097C67.5369 30.0919 67.9157 29.7888 68.1903 29.4006C68.465 29.0123 68.6023 28.5625 68.6023 28.0511C68.6023 27.5161 68.4697 27.045 68.2045 26.6378C67.9394 26.2259 67.5511 25.9039 67.0398 25.6719C66.5284 25.4399 65.9034 25.3239 65.1648 25.3239H64V23.7614H65.1648C65.7424 23.7614 66.2491 23.6572 66.6847 23.4489C67.125 23.2405 67.4683 22.947 67.7145 22.5682C67.9654 22.1894 68.0909 21.7443 68.0909 21.233C68.0909 20.7405 67.982 20.312 67.7642 19.9474C67.5464 19.5829 67.2386 19.2988 66.8409 19.0952C66.4479 18.8916 65.9839 18.7898 65.4489 18.7898C64.947 18.7898 64.4735 18.8821 64.0284 19.0668C63.5881 19.2467 63.2282 19.5095 62.9489 19.8551C62.6695 20.196 62.518 20.608 62.4943 21.0909H60.7898C60.8182 20.3286 61.0478 19.661 61.4787 19.0881C61.9096 18.5104 62.473 18.0606 63.169 17.7386C63.8698 17.4167 64.6392 17.2557 65.4773 17.2557C66.3769 17.2557 67.1487 17.438 67.7926 17.8026C68.4366 18.1624 68.9313 18.6383 69.277 19.2301C69.6226 19.822 69.7955 20.4612 69.7955 21.1477C69.7955 21.9669 69.58 22.6652 69.1491 23.2429C68.723 23.8205 68.143 24.2206 67.4091 24.4432V24.5568C68.3277 24.7083 69.045 25.099 69.5611 25.7287C70.0772 26.3537 70.3352 27.1278 70.3352 28.0511C70.3352 28.8419 70.1198 29.5521 69.6889 30.1818C69.2628 30.8068 68.6804 31.2992 67.9418 31.6591C67.2031 32.0189 66.3627 32.1989 65.4205 32.1989ZM73.4957 32V17.4545H82.2741V19.017H75.2571V23.5625H78.9503C79.992 23.5625 80.8703 23.733 81.5852 24.0739C82.3049 24.4148 82.8494 24.8954 83.2188 25.5156C83.5928 26.1359 83.7798 26.8674 83.7798 27.7102C83.7798 28.553 83.5928 29.2964 83.2188 29.9403C82.8494 30.5843 82.3049 31.0885 81.5852 31.4531C80.8703 31.8177 79.992 32 78.9503 32H73.4957ZM75.2571 30.4659H78.9503C79.6132 30.4659 80.1742 30.3333 80.6335 30.0682C81.0975 29.7983 81.4479 29.4527 81.6847 29.0312C81.9261 28.6051 82.0469 28.1553 82.0469 27.6818C82.0469 26.9858 81.7794 26.3868 81.2443 25.8849C80.7093 25.3783 79.9446 25.125 78.9503 25.125H75.2571V30.4659ZM86.6793 32V17.4545H95.4577V19.017H88.4407V23.9318H95.0032V25.4943H88.4407V30.4375H95.5714V32H86.6793ZM98.6325 32V17.4545H103.547C104.688 17.4545 105.621 17.6605 106.346 18.0724C107.075 18.4796 107.614 19.0312 107.965 19.7273C108.315 20.4233 108.49 21.1998 108.49 22.0568C108.49 22.9138 108.315 23.6927 107.965 24.3935C107.619 25.0942 107.084 25.6529 106.36 26.0696C105.635 26.4815 104.707 26.6875 103.576 26.6875H100.053V25.125H103.519C104.3 25.125 104.927 24.9901 105.401 24.7202C105.874 24.4503 106.218 24.0857 106.431 23.6264C106.649 23.1624 106.757 22.6392 106.757 22.0568C106.757 21.4744 106.649 20.9536 106.431 20.4943C106.218 20.035 105.872 19.6752 105.394 19.4148C104.916 19.1496 104.281 19.017 103.49 19.017H100.394V32H98.6325ZM111.328 32V17.4545H120.106V19.017H113.089V23.9318H119.652V25.4943H113.089V30.4375H120.22V32H111.328ZM132.059 17.4545V19.017H125.042V32H123.281V17.4545H132.059ZM133.989 19.017V17.4545H144.898V19.017H140.325V32H138.563V19.017H133.989ZM147.617 17.4545H149.35V28.9034H149.492L157.446 17.4545H159.151V32H157.39V20.5795H157.248L149.321 32H147.617V17.4545Z" fill="white"/>
                <path d="M40.875 39.125H18.125C17.263 39.125 16.4364 38.7826 15.8269 38.1731C15.2174 37.5636 14.875 36.737 14.875 35.875V13.125C14.875 12.263 15.2174 11.4364 15.8269 10.8269C16.4364 10.2174 17.263 9.875 18.125 9.875H36L44.125 18V35.875C44.125 36.737 43.7826 37.5636 43.1731 38.1731C42.5636 38.7826 41.737 39.125 40.875 39.125Z" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M37.625 39.125V26.125H21.375V39.125" stroke="white" stroke-width="2" stroke-linejoin="round"/>
                <path d="M21.375 9.875V18H34.375" stroke="white" stroke-width="2" stroke-linejoin="round"/>
                <defs>
                <linearGradient id="paint0_linear_16_438" x1="42.0343" y1="28.3133" x2="168.096" y2="25.8709" gradientUnits="userSpaceOnUse">
                <stop stop-color="#74CBBA"/>
                <stop offset="1" stop-color="#8DD294"/>
                </linearGradient>
                </defs>
                </svg>
            </div>
            
            <div class="main-button" id="plus-line">
                <svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="50" height="50" rx="6" fill="url(#paint0_linear_33_2)"/>
                    <path d="M23.4318 33.2102V16.3352H26.2955V33.2102H23.4318ZM16.4261 26.2045V23.3409H33.3011V26.2045H16.4261Z" fill="white"/>
                    <defs>
                    <linearGradient id="paint0_linear_33_2" x1="12.0098" y1="28.3133" x2="48.0398" y2="28.1138" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#74CBBA"/>
                    <stop offset="1" stop-color="#8DD294"/>
                    </linearGradient>
                    </defs>
                </svg>
            </div>
        `

        createTargets()
    }
})

targetsBtn.addEventListener('click', () => {
    if(access) {

        abortFetch()

        setCan(2)
        fetchMethod = 2

        removeActive()

        targetsBtn.innerHTML = `
        <svg width="90" height="90" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0 16C0 7.16344 7.16344 0 16 0H74C82.8366 0 90 7.16344 90 16V74C90 82.8366 82.8366 90 74 90H16C7.16344 90 0 82.8366 0 74V16Z" fill="url(#paint0_linear_13_85)"/>
            <path d="M43.0615 39.9695C42.9116 39.9589 42.7619 39.9534 42.6119 39.9534C39.3423 39.9534 36.688 42.6072 36.6879 45.8759C36.6879 49.1449 39.3315 51.7987 42.6067 51.7987C45.8817 51.7987 48.5304 49.1449 48.5304 45.8759C48.5304 45.7262 48.5251 45.5765 48.5143 45.4266L52.7474 41.1948L52.8384 41.1038C53.518 42.5538 53.898 44.1694 53.898 45.8762C53.898 52.1089 48.8462 57.1595 42.6119 57.1595C36.3776 57.1595 31.3259 52.1036 31.3259 45.8706C31.3259 39.6379 36.3776 34.5873 42.6119 34.5873C44.319 34.5873 45.9351 34.9672 47.3853 35.6466L47.2944 35.7376L43.0615 39.9695Z" fill="white"/>
            <path d="M42.7198 23.2968C42.682 23.2966 42.6444 23.2966 42.6069 23.2966C30.1458 23.2966 20.04 33.4024 20.04 45.8686C20.04 58.3348 30.1459 68.4408 42.6122 68.4408C55.0784 68.4408 65.1841 58.3348 65.1841 45.8686C65.1841 43.7649 64.8973 41.7295 64.36 39.7987L58.8571 42.458C59.0877 43.559 59.2092 44.6998 59.2092 45.8686C59.2092 55.0313 51.7799 62.4605 42.6172 62.4605C33.4547 62.4605 26.0203 55.0313 26.0203 45.8686C26.0203 36.706 33.4494 29.2768 42.6119 29.2768C45.1914 29.2768 47.631 29.8657 49.805 30.915L50.7064 29.6861L42.7198 23.2968Z" fill="white"/>
            <path d="M72.7909 13.8709L50.8588 25.046L57.7044 30.4922L48.0498 42.6276L69.9821 31.4526L63.1363 26.0064L72.7909 13.8709Z" fill="white"/>
            <defs>
            <linearGradient id="paint0_linear_13_85" x1="21.6176" y1="50.9639" x2="86.4716" y2="50.6049" gradientUnits="userSpaceOnUse">
            <stop stop-color="#74CBBA"/>
            <stop offset="1" stop-color="#8DD294"/>
            </linearGradient>
            </defs>
        </svg>
    `

        fetch('/api/config/competition-targets', {
            method: 'GET'
        }).then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
                .then(data => {
                console.log(data)

                if (data)
                    bottomBtns.innerHTML = `
                <div class="main-button" id="save-btn">
                    <svg width="175" height="50" viewBox="0 0 175 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="175" height="50" rx="6" fill="url(#paint0_linear_16_438)"/>
                        <path d="M65.4205 32.1989C64.483 32.1989 63.6473 32.0379 62.9134 31.7159C62.1842 31.3939 61.6042 30.9465 61.1733 30.3736C60.7472 29.7959 60.5152 29.1259 60.4773 28.3636H62.267C62.3049 28.8324 62.4659 29.2372 62.75 29.5781C63.0341 29.9143 63.4058 30.1747 63.8651 30.3594C64.3243 30.544 64.8333 30.6364 65.392 30.6364C66.017 30.6364 66.571 30.5275 67.054 30.3097C67.5369 30.0919 67.9157 29.7888 68.1903 29.4006C68.465 29.0123 68.6023 28.5625 68.6023 28.0511C68.6023 27.5161 68.4697 27.045 68.2045 26.6378C67.9394 26.2259 67.5511 25.9039 67.0398 25.6719C66.5284 25.4399 65.9034 25.3239 65.1648 25.3239H64V23.7614H65.1648C65.7424 23.7614 66.2491 23.6572 66.6847 23.4489C67.125 23.2405 67.4683 22.947 67.7145 22.5682C67.9654 22.1894 68.0909 21.7443 68.0909 21.233C68.0909 20.7405 67.982 20.312 67.7642 19.9474C67.5464 19.5829 67.2386 19.2988 66.8409 19.0952C66.4479 18.8916 65.9839 18.7898 65.4489 18.7898C64.947 18.7898 64.4735 18.8821 64.0284 19.0668C63.5881 19.2467 63.2282 19.5095 62.9489 19.8551C62.6695 20.196 62.518 20.608 62.4943 21.0909H60.7898C60.8182 20.3286 61.0478 19.661 61.4787 19.0881C61.9096 18.5104 62.473 18.0606 63.169 17.7386C63.8698 17.4167 64.6392 17.2557 65.4773 17.2557C66.3769 17.2557 67.1487 17.438 67.7926 17.8026C68.4366 18.1624 68.9313 18.6383 69.277 19.2301C69.6226 19.822 69.7955 20.4612 69.7955 21.1477C69.7955 21.9669 69.58 22.6652 69.1491 23.2429C68.723 23.8205 68.143 24.2206 67.4091 24.4432V24.5568C68.3277 24.7083 69.045 25.099 69.5611 25.7287C70.0772 26.3537 70.3352 27.1278 70.3352 28.0511C70.3352 28.8419 70.1198 29.5521 69.6889 30.1818C69.2628 30.8068 68.6804 31.2992 67.9418 31.6591C67.2031 32.0189 66.3627 32.1989 65.4205 32.1989ZM73.4957 32V17.4545H82.2741V19.017H75.2571V23.5625H78.9503C79.992 23.5625 80.8703 23.733 81.5852 24.0739C82.3049 24.4148 82.8494 24.8954 83.2188 25.5156C83.5928 26.1359 83.7798 26.8674 83.7798 27.7102C83.7798 28.553 83.5928 29.2964 83.2188 29.9403C82.8494 30.5843 82.3049 31.0885 81.5852 31.4531C80.8703 31.8177 79.992 32 78.9503 32H73.4957ZM75.2571 30.4659H78.9503C79.6132 30.4659 80.1742 30.3333 80.6335 30.0682C81.0975 29.7983 81.4479 29.4527 81.6847 29.0312C81.9261 28.6051 82.0469 28.1553 82.0469 27.6818C82.0469 26.9858 81.7794 26.3868 81.2443 25.8849C80.7093 25.3783 79.9446 25.125 78.9503 25.125H75.2571V30.4659ZM86.6793 32V17.4545H95.4577V19.017H88.4407V23.9318H95.0032V25.4943H88.4407V30.4375H95.5714V32H86.6793ZM98.6325 32V17.4545H103.547C104.688 17.4545 105.621 17.6605 106.346 18.0724C107.075 18.4796 107.614 19.0312 107.965 19.7273C108.315 20.4233 108.49 21.1998 108.49 22.0568C108.49 22.9138 108.315 23.6927 107.965 24.3935C107.619 25.0942 107.084 25.6529 106.36 26.0696C105.635 26.4815 104.707 26.6875 103.576 26.6875H100.053V25.125H103.519C104.3 25.125 104.927 24.9901 105.401 24.7202C105.874 24.4503 106.218 24.0857 106.431 23.6264C106.649 23.1624 106.757 22.6392 106.757 22.0568C106.757 21.4744 106.649 20.9536 106.431 20.4943C106.218 20.035 105.872 19.6752 105.394 19.4148C104.916 19.1496 104.281 19.017 103.49 19.017H100.394V32H98.6325ZM111.328 32V17.4545H120.106V19.017H113.089V23.9318H119.652V25.4943H113.089V30.4375H120.22V32H111.328ZM132.059 17.4545V19.017H125.042V32H123.281V17.4545H132.059ZM133.989 19.017V17.4545H144.898V19.017H140.325V32H138.563V19.017H133.989ZM147.617 17.4545H149.35V28.9034H149.492L157.446 17.4545H159.151V32H157.39V20.5795H157.248L149.321 32H147.617V17.4545Z" fill="white"/>
                        <path d="M40.875 39.125H18.125C17.263 39.125 16.4364 38.7826 15.8269 38.1731C15.2174 37.5636 14.875 36.737 14.875 35.875V13.125C14.875 12.263 15.2174 11.4364 15.8269 10.8269C16.4364 10.2174 17.263 9.875 18.125 9.875H36L44.125 18V35.875C44.125 36.737 43.7826 37.5636 43.1731 38.1731C42.5636 38.7826 41.737 39.125 40.875 39.125Z" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M37.625 39.125V26.125H21.375V39.125" stroke="white" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M21.375 9.875V18H34.375" stroke="white" stroke-width="2" stroke-linejoin="round"/>
                        <defs>
                        <linearGradient id="paint0_linear_16_438" x1="42.0343" y1="28.3133" x2="168.096" y2="25.8709" gradientUnits="userSpaceOnUse">
                        <stop stop-color="#74CBBA"/>
                        <stop offset="1" stop-color="#8DD294"/>
                        </linearGradient>
                        </defs>
                    </svg>
                </div>
        
                <div class="main-button" id="competition-btn">
                    <svg width="297" height="50" viewBox="0 0 297 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="297" height="50" rx="6" fill="url(#paint0_linear_18_1153)"/>
                    <path d="M63.2891 32L58.2891 25.3239H56.4993V32H54.7379V17.4545H56.4993V23.7614H57.2663L63.0902 17.4545H65.1925L59.3118 23.8466L65.3913 32H63.2891ZM79.2567 24.7273C79.2567 26.2614 78.9798 27.5871 78.4258 28.7045C77.8718 29.822 77.1119 30.6837 76.146 31.2898C75.18 31.8958 74.0768 32.1989 72.8363 32.1989C71.5958 32.1989 70.4925 31.8958 69.5266 31.2898C68.5607 30.6837 67.8008 29.822 67.2468 28.7045C66.6928 27.5871 66.4158 26.2614 66.4158 24.7273C66.4158 23.1932 66.6928 21.8674 67.2468 20.75C67.8008 19.6326 68.5607 18.7708 69.5266 18.1648C70.4925 17.5587 71.5958 17.2557 72.8363 17.2557C74.0768 17.2557 75.18 17.5587 76.146 18.1648C77.1119 18.7708 77.8718 19.6326 78.4258 20.75C78.9798 21.8674 79.2567 23.1932 79.2567 24.7273ZM77.5522 24.7273C77.5522 23.4678 77.3415 22.4048 76.9201 21.5384C76.5034 20.6719 75.9376 20.0161 75.2227 19.571C74.5124 19.1259 73.717 18.9034 72.8363 18.9034C71.9556 18.9034 71.1578 19.1259 70.4428 19.571C69.7326 20.0161 69.1668 20.6719 68.7454 21.5384C68.3287 22.4048 68.1204 23.4678 68.1204 24.7273C68.1204 25.9867 68.3287 27.0497 68.7454 27.9162C69.1668 28.7827 69.7326 29.4384 70.4428 29.8835C71.1578 30.3286 71.9556 30.5511 72.8363 30.5511C73.717 30.5511 74.5124 30.3286 75.2227 29.8835C75.9376 29.4384 76.5034 28.7827 76.9201 27.9162C77.3415 27.0497 77.5522 25.9867 77.5522 24.7273ZM82.2184 32V17.4545H83.9798V23.9318H91.7354V17.4545H93.4968V32H91.7354V25.4943H83.9798V32H82.2184ZM105.574 32L100.574 25.3239H98.7844V32H97.0231V17.4545H98.7844V23.7614H99.5515L105.375 17.4545H107.478L101.597 23.8466L107.676 32H105.574ZM110.72 32.1989V30.5511H111.629C111.979 30.5511 112.273 30.4825 112.51 30.3452C112.751 30.2079 112.95 30.0303 113.106 29.8125C113.267 29.5947 113.4 29.3674 113.504 29.1307L113.731 28.5909L108.703 17.4545H110.606L114.612 26.4886L118.277 17.4545H120.152L115.123 29.642C114.924 30.0966 114.697 30.518 114.441 30.9062C114.19 31.2945 113.847 31.607 113.412 31.8438C112.981 32.0805 112.396 32.1989 111.657 32.1989H110.72ZM122.433 32V17.4545H127.348C128.489 17.4545 129.422 17.6605 130.146 18.0724C130.875 18.4796 131.415 19.0312 131.766 19.7273C132.116 20.4233 132.291 21.1998 132.291 22.0568C132.291 22.9138 132.116 23.6927 131.766 24.3935C131.42 25.0942 130.885 25.6529 130.161 26.0696C129.436 26.4815 128.508 26.6875 127.376 26.6875H123.854V25.125H127.32C128.101 25.125 128.728 24.9901 129.202 24.7202C129.675 24.4503 130.018 24.0857 130.232 23.6264C130.449 23.1624 130.558 22.6392 130.558 22.0568C130.558 21.4744 130.449 20.9536 130.232 20.4943C130.018 20.035 129.673 19.6752 129.195 19.4148C128.716 19.1496 128.082 19.017 127.291 19.017H124.195V32H122.433ZM135.896 32.1989V30.5511H136.805C137.155 30.5511 137.449 30.4825 137.685 30.3452C137.927 30.2079 138.126 30.0303 138.282 29.8125C138.443 29.5947 138.576 29.3674 138.68 29.1307L138.907 28.5909L133.879 17.4545H135.782L139.788 26.4886L143.452 17.4545H145.327L140.299 29.642C140.1 30.0966 139.873 30.518 139.617 30.9062C139.366 31.2945 139.023 31.607 138.587 31.8438C138.156 32.0805 137.572 32.1989 136.833 32.1989H135.896ZM147.609 32V17.4545H152.694C153.708 17.4545 154.543 17.6297 155.201 17.9801C155.859 18.3258 156.35 18.7921 156.672 19.3793C156.993 19.9616 157.154 20.608 157.154 21.3182C157.154 21.9432 157.043 22.4593 156.821 22.8665C156.603 23.2737 156.314 23.5956 155.954 23.8324C155.599 24.0691 155.213 24.2443 154.797 24.358V24.5C155.242 24.5284 155.689 24.6847 156.139 24.9688C156.589 25.2528 156.965 25.66 157.268 26.1903C157.571 26.7206 157.723 27.3693 157.723 28.1364C157.723 28.8655 157.557 29.5213 157.225 30.1037C156.894 30.6861 156.371 31.1477 155.656 31.4886C154.941 31.8295 154.011 32 152.865 32H147.609ZM149.37 30.4375H152.865C154.015 30.4375 154.832 30.215 155.315 29.7699C155.803 29.3201 156.047 28.7756 156.047 28.1364C156.047 27.6439 155.921 27.1894 155.67 26.7727C155.419 26.3513 155.062 26.0152 154.598 25.7642C154.134 25.5085 153.584 25.3807 152.95 25.3807H149.37V30.4375ZM149.37 23.8466H152.637C153.168 23.8466 153.646 23.7424 154.072 23.5341C154.503 23.3258 154.844 23.0322 155.095 22.6534C155.35 22.2746 155.478 21.8295 155.478 21.3182C155.478 20.679 155.256 20.1368 154.811 19.6918C154.366 19.242 153.66 19.017 152.694 19.017H149.37V23.8466ZM161.213 32H159.367L164.708 17.4545H166.526L171.867 32H170.02L165.674 19.7557H165.56L161.213 32ZM161.895 26.3182H169.338V27.8807H161.895V26.3182ZM171.638 19.017V17.4545H182.547V19.017H177.973V32H176.212V19.017H171.638ZM185.265 17.4545H186.998V28.9034H187.14L195.095 17.4545H196.799V32H195.038V20.5795H194.896L186.97 32H185.265V17.4545Z" fill="white"/>
                    <path d="M38.75 23.375L29.375 14L20 23.375" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M38.75 36.5L29.375 27.125L20 36.5" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                    <rect x="210" y="6" width="77" height="38.8889" rx="19.4444" fill="#1D1F20"/>
                    <rect x="249" y="9" width="32.6667" height="32.906" rx="16.3333" fill="url(#paint1_linear_18_1153)"/>
                    <defs>
                    <linearGradient id="paint0_linear_18_1153" x1="71.3382" y1="28.3133" x2="285.132" y2="21.2835" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#74CBBA"/>
                    <stop offset="1" stop-color="#8DD294"/>
                    </linearGradient>
                    <linearGradient id="paint1_linear_18_1153" x1="256.846" y1="27.6335" x2="280.386" y2="27.5042" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#74CBBA"/>
                    <stop offset="1" stop-color="#8DD294"/>
                    </linearGradient>
                    </defs>
                    </svg>
                </div>
            `
                else
                    bottomBtns.innerHTML = `
                <div class="main-button" id="save-btn">
                    <svg width="175" height="50" viewBox="0 0 175 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="175" height="50" rx="6" fill="url(#paint0_linear_16_438)"/>
                        <path d="M65.4205 32.1989C64.483 32.1989 63.6473 32.0379 62.9134 31.7159C62.1842 31.3939 61.6042 30.9465 61.1733 30.3736C60.7472 29.7959 60.5152 29.1259 60.4773 28.3636H62.267C62.3049 28.8324 62.4659 29.2372 62.75 29.5781C63.0341 29.9143 63.4058 30.1747 63.8651 30.3594C64.3243 30.544 64.8333 30.6364 65.392 30.6364C66.017 30.6364 66.571 30.5275 67.054 30.3097C67.5369 30.0919 67.9157 29.7888 68.1903 29.4006C68.465 29.0123 68.6023 28.5625 68.6023 28.0511C68.6023 27.5161 68.4697 27.045 68.2045 26.6378C67.9394 26.2259 67.5511 25.9039 67.0398 25.6719C66.5284 25.4399 65.9034 25.3239 65.1648 25.3239H64V23.7614H65.1648C65.7424 23.7614 66.2491 23.6572 66.6847 23.4489C67.125 23.2405 67.4683 22.947 67.7145 22.5682C67.9654 22.1894 68.0909 21.7443 68.0909 21.233C68.0909 20.7405 67.982 20.312 67.7642 19.9474C67.5464 19.5829 67.2386 19.2988 66.8409 19.0952C66.4479 18.8916 65.9839 18.7898 65.4489 18.7898C64.947 18.7898 64.4735 18.8821 64.0284 19.0668C63.5881 19.2467 63.2282 19.5095 62.9489 19.8551C62.6695 20.196 62.518 20.608 62.4943 21.0909H60.7898C60.8182 20.3286 61.0478 19.661 61.4787 19.0881C61.9096 18.5104 62.473 18.0606 63.169 17.7386C63.8698 17.4167 64.6392 17.2557 65.4773 17.2557C66.3769 17.2557 67.1487 17.438 67.7926 17.8026C68.4366 18.1624 68.9313 18.6383 69.277 19.2301C69.6226 19.822 69.7955 20.4612 69.7955 21.1477C69.7955 21.9669 69.58 22.6652 69.1491 23.2429C68.723 23.8205 68.143 24.2206 67.4091 24.4432V24.5568C68.3277 24.7083 69.045 25.099 69.5611 25.7287C70.0772 26.3537 70.3352 27.1278 70.3352 28.0511C70.3352 28.8419 70.1198 29.5521 69.6889 30.1818C69.2628 30.8068 68.6804 31.2992 67.9418 31.6591C67.2031 32.0189 66.3627 32.1989 65.4205 32.1989ZM73.4957 32V17.4545H82.2741V19.017H75.2571V23.5625H78.9503C79.992 23.5625 80.8703 23.733 81.5852 24.0739C82.3049 24.4148 82.8494 24.8954 83.2188 25.5156C83.5928 26.1359 83.7798 26.8674 83.7798 27.7102C83.7798 28.553 83.5928 29.2964 83.2188 29.9403C82.8494 30.5843 82.3049 31.0885 81.5852 31.4531C80.8703 31.8177 79.992 32 78.9503 32H73.4957ZM75.2571 30.4659H78.9503C79.6132 30.4659 80.1742 30.3333 80.6335 30.0682C81.0975 29.7983 81.4479 29.4527 81.6847 29.0312C81.9261 28.6051 82.0469 28.1553 82.0469 27.6818C82.0469 26.9858 81.7794 26.3868 81.2443 25.8849C80.7093 25.3783 79.9446 25.125 78.9503 25.125H75.2571V30.4659ZM86.6793 32V17.4545H95.4577V19.017H88.4407V23.9318H95.0032V25.4943H88.4407V30.4375H95.5714V32H86.6793ZM98.6325 32V17.4545H103.547C104.688 17.4545 105.621 17.6605 106.346 18.0724C107.075 18.4796 107.614 19.0312 107.965 19.7273C108.315 20.4233 108.49 21.1998 108.49 22.0568C108.49 22.9138 108.315 23.6927 107.965 24.3935C107.619 25.0942 107.084 25.6529 106.36 26.0696C105.635 26.4815 104.707 26.6875 103.576 26.6875H100.053V25.125H103.519C104.3 25.125 104.927 24.9901 105.401 24.7202C105.874 24.4503 106.218 24.0857 106.431 23.6264C106.649 23.1624 106.757 22.6392 106.757 22.0568C106.757 21.4744 106.649 20.9536 106.431 20.4943C106.218 20.035 105.872 19.6752 105.394 19.4148C104.916 19.1496 104.281 19.017 103.49 19.017H100.394V32H98.6325ZM111.328 32V17.4545H120.106V19.017H113.089V23.9318H119.652V25.4943H113.089V30.4375H120.22V32H111.328ZM132.059 17.4545V19.017H125.042V32H123.281V17.4545H132.059ZM133.989 19.017V17.4545H144.898V19.017H140.325V32H138.563V19.017H133.989ZM147.617 17.4545H149.35V28.9034H149.492L157.446 17.4545H159.151V32H157.39V20.5795H157.248L149.321 32H147.617V17.4545Z" fill="white"/>
                        <path d="M40.875 39.125H18.125C17.263 39.125 16.4364 38.7826 15.8269 38.1731C15.2174 37.5636 14.875 36.737 14.875 35.875V13.125C14.875 12.263 15.2174 11.4364 15.8269 10.8269C16.4364 10.2174 17.263 9.875 18.125 9.875H36L44.125 18V35.875C44.125 36.737 43.7826 37.5636 43.1731 38.1731C42.5636 38.7826 41.737 39.125 40.875 39.125Z" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M37.625 39.125V26.125H21.375V39.125" stroke="white" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M21.375 9.875V18H34.375" stroke="white" stroke-width="2" stroke-linejoin="round"/>
                        <defs>
                        <linearGradient id="paint0_linear_16_438" x1="42.0343" y1="28.3133" x2="168.096" y2="25.8709" gradientUnits="userSpaceOnUse">
                        <stop stop-color="#74CBBA"/>
                        <stop offset="1" stop-color="#8DD294"/>
                        </linearGradient>
                        </defs>
                    </svg>
                </div>
                
                <div class="main-button" id="competition-btn">
                    <svg width="297" height="50" viewBox="0 0 297 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="297" height="50" rx="6" fill="#1D1F20"/>
                    <path d="M63.2891 32L58.2891 25.3239H56.4993V32H54.7379V17.4545H56.4993V23.7614H57.2663L63.0902 17.4545H65.1925L59.3118 23.8466L65.3913 32H63.2891ZM79.2567 24.7273C79.2567 26.2614 78.9798 27.5871 78.4258 28.7045C77.8718 29.822 77.1119 30.6837 76.146 31.2898C75.18 31.8958 74.0768 32.1989 72.8363 32.1989C71.5958 32.1989 70.4925 31.8958 69.5266 31.2898C68.5607 30.6837 67.8008 29.822 67.2468 28.7045C66.6928 27.5871 66.4158 26.2614 66.4158 24.7273C66.4158 23.1932 66.6928 21.8674 67.2468 20.75C67.8008 19.6326 68.5607 18.7708 69.5266 18.1648C70.4925 17.5587 71.5958 17.2557 72.8363 17.2557C74.0768 17.2557 75.18 17.5587 76.146 18.1648C77.1119 18.7708 77.8718 19.6326 78.4258 20.75C78.9798 21.8674 79.2567 23.1932 79.2567 24.7273ZM77.5522 24.7273C77.5522 23.4678 77.3415 22.4048 76.9201 21.5384C76.5034 20.6719 75.9376 20.0161 75.2227 19.571C74.5124 19.1259 73.717 18.9034 72.8363 18.9034C71.9556 18.9034 71.1578 19.1259 70.4428 19.571C69.7326 20.0161 69.1668 20.6719 68.7454 21.5384C68.3287 22.4048 68.1204 23.4678 68.1204 24.7273C68.1204 25.9867 68.3287 27.0497 68.7454 27.9162C69.1668 28.7827 69.7326 29.4384 70.4428 29.8835C71.1578 30.3286 71.9556 30.5511 72.8363 30.5511C73.717 30.5511 74.5124 30.3286 75.2227 29.8835C75.9376 29.4384 76.5034 28.7827 76.9201 27.9162C77.3415 27.0497 77.5522 25.9867 77.5522 24.7273ZM82.2184 32V17.4545H83.9798V23.9318H91.7354V17.4545H93.4968V32H91.7354V25.4943H83.9798V32H82.2184ZM105.574 32L100.574 25.3239H98.7844V32H97.0231V17.4545H98.7844V23.7614H99.5515L105.375 17.4545H107.478L101.597 23.8466L107.676 32H105.574ZM110.72 32.1989V30.5511H111.629C111.979 30.5511 112.273 30.4825 112.51 30.3452C112.751 30.2079 112.95 30.0303 113.106 29.8125C113.267 29.5947 113.4 29.3674 113.504 29.1307L113.731 28.5909L108.703 17.4545H110.606L114.612 26.4886L118.277 17.4545H120.152L115.123 29.642C114.924 30.0966 114.697 30.518 114.441 30.9062C114.19 31.2945 113.847 31.607 113.412 31.8438C112.981 32.0805 112.396 32.1989 111.657 32.1989H110.72ZM122.433 32V17.4545H127.348C128.489 17.4545 129.422 17.6605 130.146 18.0724C130.875 18.4796 131.415 19.0312 131.766 19.7273C132.116 20.4233 132.291 21.1998 132.291 22.0568C132.291 22.9138 132.116 23.6927 131.766 24.3935C131.42 25.0942 130.885 25.6529 130.161 26.0696C129.436 26.4815 128.508 26.6875 127.376 26.6875H123.854V25.125H127.32C128.101 25.125 128.728 24.9901 129.202 24.7202C129.675 24.4503 130.018 24.0857 130.232 23.6264C130.449 23.1624 130.558 22.6392 130.558 22.0568C130.558 21.4744 130.449 20.9536 130.232 20.4943C130.018 20.035 129.673 19.6752 129.195 19.4148C128.716 19.1496 128.082 19.017 127.291 19.017H124.195V32H122.433ZM135.896 32.1989V30.5511H136.805C137.155 30.5511 137.449 30.4825 137.685 30.3452C137.927 30.2079 138.126 30.0303 138.282 29.8125C138.443 29.5947 138.576 29.3674 138.68 29.1307L138.907 28.5909L133.879 17.4545H135.782L139.788 26.4886L143.452 17.4545H145.327L140.299 29.642C140.1 30.0966 139.873 30.518 139.617 30.9062C139.366 31.2945 139.023 31.607 138.587 31.8438C138.156 32.0805 137.572 32.1989 136.833 32.1989H135.896ZM147.609 32V17.4545H152.694C153.708 17.4545 154.543 17.6297 155.201 17.9801C155.859 18.3258 156.35 18.7921 156.672 19.3793C156.993 19.9616 157.154 20.608 157.154 21.3182C157.154 21.9432 157.043 22.4593 156.821 22.8665C156.603 23.2737 156.314 23.5956 155.954 23.8324C155.599 24.0691 155.213 24.2443 154.797 24.358V24.5C155.242 24.5284 155.689 24.6847 156.139 24.9688C156.589 25.2528 156.965 25.66 157.268 26.1903C157.571 26.7206 157.723 27.3693 157.723 28.1364C157.723 28.8655 157.557 29.5213 157.225 30.1037C156.894 30.6861 156.371 31.1477 155.656 31.4886C154.941 31.8295 154.011 32 152.865 32H147.609ZM149.37 30.4375H152.865C154.015 30.4375 154.832 30.215 155.315 29.7699C155.803 29.3201 156.047 28.7756 156.047 28.1364C156.047 27.6439 155.921 27.1894 155.67 26.7727C155.419 26.3513 155.062 26.0152 154.598 25.7642C154.134 25.5085 153.584 25.3807 152.95 25.3807H149.37V30.4375ZM149.37 23.8466H152.637C153.168 23.8466 153.646 23.7424 154.072 23.5341C154.503 23.3258 154.844 23.0322 155.095 22.6534C155.35 22.2746 155.478 21.8295 155.478 21.3182C155.478 20.679 155.256 20.1368 154.811 19.6918C154.366 19.242 153.66 19.017 152.694 19.017H149.37V23.8466ZM161.213 32H159.367L164.708 17.4545H166.526L171.867 32H170.02L165.674 19.7557H165.56L161.213 32ZM161.895 26.3182H169.338V27.8807H161.895V26.3182ZM171.638 19.017V17.4545H182.547V19.017H177.973V32H176.212V19.017H171.638ZM185.265 17.4545H186.998V28.9034H187.14L195.095 17.4545H196.799V32H195.038V20.5795H194.896L186.97 32H185.265V17.4545Z" fill="white"/>
                    <path d="M38.75 23.375L29.375 14L20 23.375" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M38.75 36.5L29.375 27.125L20 36.5" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                    <rect x="210" y="6" width="77" height="38.8889" rx="19.4444" fill="#232627"/>
                    <rect x="214.667" y="8.99146" width="32.6667" height="32.906" rx="16.3333" fill="url(#paint0_linear_18_1144)"/>
                    <defs>
                    <linearGradient id="paint0_linear_18_1144" x1="222.513" y1="27.625" x2="246.053" y2="27.4956" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#74CBBA"/>
                    <stop offset="1" stop-color="#8DD294"/>
                    </linearGradient>
                    </defs>
                    </svg>
                </div>
            `
            })

            mainBlock.innerHTML = ''

        targets()
    }
})

historyBtn.addEventListener('click', () => {
    if(access) {
        abortFetch()

        setCan(5)
        fetchMethod = 5

        removeActive()

        historyBtn.innerHTML = `
            <svg width="90" height="90" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="90" height="90" rx="16" fill="url(#paint0_linear_13_163)"/>
                <g clip-path="url(#clip0_13_163)">
                <path d="M45.4768 20.3894C38.8203 20.3931 32.4379 23.0406 27.7332 27.7496C23.0285 32.4586 20.3869 38.8435 20.3894 45.5C20.3876 48.7963 21.035 52.0607 22.2948 55.1069C23.5546 58.153 25.402 60.9211 27.7316 63.2533C30.0611 65.5855 32.8273 67.4359 35.872 68.6991C38.9167 69.9622 42.1804 70.6133 45.4768 70.6151C52.1406 70.6176 58.5326 67.9731 63.2468 63.2632C67.961 58.5533 70.6114 52.1638 70.6151 45.5C70.6102 38.8369 67.9593 32.4486 63.2452 27.7397C58.5311 23.0308 52.1398 20.3869 45.4768 20.3894ZM45.5046 65.5939C42.8655 65.5952 40.252 65.0763 37.8135 64.0669C35.375 63.0575 33.1594 61.5774 31.2933 59.7113C29.4271 57.8451 27.9471 55.6295 26.9377 53.191C25.9283 50.7526 25.4094 48.1391 25.4106 45.5C25.41 42.8612 25.9293 40.2482 26.939 37.8103C27.9487 35.3724 29.4288 33.1573 31.2949 31.2916C33.161 29.426 35.3764 27.9463 37.8146 26.9372C40.2527 25.9281 42.8659 25.4094 45.5046 25.4106C48.1429 25.41 50.7555 25.9292 53.1932 26.9386C55.6308 27.9479 57.8457 29.4277 59.7113 31.2933C61.5769 33.1589 63.0566 35.3737 64.066 37.8114C65.0753 40.249 65.5946 42.8616 65.5939 45.5C65.5952 48.1387 65.0764 50.7518 64.0673 53.19C63.0582 55.6281 61.5786 57.8436 59.7129 59.7096C57.8473 61.5757 55.6322 63.0559 53.1942 64.0655C50.7563 65.0752 48.1433 65.5946 45.5046 65.5939Z" fill="white"/>
                <path d="M46.7564 32.9402H42.9963V48.0084L56.1822 55.9226L58.0645 52.8302L46.7611 46.126L46.7564 32.9402Z" fill="white"/>
                </g>
                <defs>
                <linearGradient id="paint0_linear_13_163" x1="21.6176" y1="50.9639" x2="86.4716" y2="50.6049" gradientUnits="userSpaceOnUse">
                <stop stop-color="#74CBBA"/>
                <stop offset="1" stop-color="#8DD294"/>
                </linearGradient>
                <clipPath id="clip0_13_163">
                <rect width="51" height="51" fill="white" transform="translate(20 20)"/>
                </clipPath>
                </defs>
            </svg>
        `

        mainBlock.innerHTML = ''
        bottomBtns.innerHTML = ''

        history()
    }
})

settingsBtn.addEventListener('click', () => {
    if(access) {
        abortFetch()
        removeActive()

        settingsBtn.innerHTML = `
            <svg width="90" height="90" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="90" height="90" rx="16" fill="url(#paint0_linear_13_103)"/>
                <path d="M21.3522 37.3815C22.4318 34.057 24.2102 31.0053 26.5568 28.4191C26.9536 27.9818 27.5761 27.8259 28.1335 28.0244L33.7414 30.0209C35.2617 30.5618 36.9346 29.7732 37.4779 28.2594C37.5314 28.1105 37.5725 27.9576 37.601 27.8023L38.6693 21.9632C38.7755 21.3827 39.2234 20.9235 39.803 20.8006C41.4992 20.4411 43.2382 20.2583 45 20.2583C46.7608 20.2583 48.4987 20.4409 50.1939 20.7999C50.7734 20.9227 51.2212 21.3816 51.3276 21.962L52.399 27.8021C52.6887 29.3835 54.2109 30.4318 55.7994 30.1434C55.9558 30.115 56.1092 30.0741 56.2585 30.0209L61.8665 28.0244C62.4238 27.8259 63.0462 27.9818 63.443 28.4191C65.7898 31.0053 67.568 34.057 68.648 37.3815C68.8299 37.9423 68.6542 38.5572 68.2029 38.9387L63.6575 42.7812C62.4271 43.8217 62.2765 45.6586 63.3214 46.8841C63.4241 47.0046 63.5367 47.1165 63.6575 47.2188L68.2029 51.0613C68.6542 51.4428 68.8299 52.0577 68.648 52.6186C67.568 55.9432 65.7898 58.9949 63.443 61.5809C63.0462 62.0181 62.4238 62.174 61.8665 61.9756L56.2585 59.9791C54.7385 59.4383 53.0654 60.227 52.5221 61.7405C52.4686 61.8894 52.4275 62.0424 52.3989 62.1984L51.3276 68.0381C51.2212 68.6185 50.7734 69.0772 50.1939 69.2001C48.4987 69.559 46.7608 69.7418 45 69.7418C43.2382 69.7418 41.4992 69.559 39.803 69.1993C39.2234 69.0764 38.7755 68.6173 38.6693 68.0369L37.601 62.198C37.3113 60.6164 35.789 59.5683 34.2006 59.8566C34.0444 59.8851 33.8908 59.9259 33.7416 59.9791L28.1335 61.9756C27.5761 62.174 26.9536 62.0181 26.5568 61.5809C24.2102 58.9949 22.4318 55.9432 21.3522 52.6186C21.1701 52.0577 21.3457 51.4428 21.797 51.0613L26.3423 47.2188C27.573 46.1783 27.7236 44.3414 26.6786 43.116C26.5758 42.9955 26.4634 42.8835 26.3424 42.7813L21.797 38.9387C21.3457 38.5572 21.1701 37.9423 21.3522 37.3815ZM37.7808 44.9998C37.7808 48.9866 41.0127 52.2185 44.9995 52.2185C48.9863 52.2185 52.2183 48.9866 52.2183 44.9998C52.2183 41.0129 48.9863 37.781 44.9995 37.781C41.0127 37.781 37.7808 41.0129 37.7808 44.9998Z" fill="white"/>
                <defs>
                <linearGradient id="paint0_linear_13_103" x1="21.6176" y1="50.9639" x2="86.4716" y2="50.6049" gradientUnits="userSpaceOnUse">
                <stop stop-color="#74CBBA"/>
                <stop offset="1" stop-color="#8DD294"/>
                </linearGradient>
                </defs>
            </svg>
         `
        mainBlock.innerHTML = ''
        bottomBtns.innerHTML = ''

        settings()
    }
})

function removeActive(){
    inventoryBtn.innerHTML = `
         <svg width="90" height="90" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="90" height="90" rx="16" fill="#232627"/>
            <path d="M71.1599 26.6C70.1999 22.44 66.3599 19.4 61.8799 19.4H28.2799C26.1351 19.4006 24.0497 20.1054 22.3443 21.4062C20.6389 22.7069 19.4077 24.5316 18.8399 26.6L15.4799 39.4C14.8399 41.64 15.7999 43.88 17.7199 45.16L18.3599 45.64C19.3199 46.12 20.1199 46.6 21.0799 46.76V64.2C21.085 65.8958 21.7609 67.5207 22.96 68.7199C24.1592 69.919 25.7841 70.5949 27.4799 70.6H34.9999C36.6958 70.5949 38.3207 69.919 39.5198 68.7199C40.719 67.5207 41.3949 65.8958 41.3999 64.2V57.8H50.1999V64.2C50.205 65.8958 50.8809 67.5207 52.08 68.7199C53.2792 69.919 54.9041 70.5949 56.5999 70.6H62.6799C64.3758 70.5949 66.0007 69.919 67.1998 68.7199C68.399 67.5207 69.0749 65.8958 69.0799 64.2V46.76C69.9876 46.6096 70.8572 46.2835 71.6399 45.8L72.2799 45.32C73.2289 44.6946 73.9564 43.7857 74.3586 42.7227C74.7608 41.6597 74.8173 40.4969 74.5199 39.4L71.1599 26.6ZM62.9999 64.2H56.5999V57.8C56.5949 56.1042 55.919 54.4792 54.7198 53.2801C53.5207 52.081 51.8958 51.4051 50.1999 51.4H41.3999C39.7041 51.4051 38.0792 52.081 36.88 53.2801C35.6809 54.4792 35.005 56.1042 34.9999 57.8V64.2H27.4799V45C29.5599 44.2 31.7999 44.52 33.7199 45.64C34.8479 46.4216 36.1876 46.8403 37.5599 46.8403C38.9323 46.8403 40.2719 46.4216 41.3999 45.64C42.5279 44.8584 43.8676 44.4396 45.2399 44.4396C46.6123 44.4396 47.9519 44.8584 49.0799 45.64C50.2079 46.4216 51.5476 46.8403 52.9199 46.8403C54.2923 46.8403 55.6319 46.4216 56.7599 45.64C57.6681 45.0305 58.7121 44.6534 59.8001 44.5418C60.8881 44.4302 61.9869 44.5875 62.9999 45V64.2ZM67.6399 40.36C65.4728 38.875 62.9071 38.0803 60.2799 38.0803C57.6528 38.0803 55.0871 38.875 52.9199 40.36C52.8919 40.3971 52.8556 40.4272 52.814 40.4479C52.7723 40.4687 52.7264 40.4795 52.6799 40.4795C52.6334 40.4795 52.5875 40.4687 52.5459 40.4479C52.5042 40.4272 52.468 40.3971 52.4399 40.36C50.2728 38.875 47.7071 38.0803 45.0799 38.0803C42.4528 38.0803 39.8871 38.875 37.7199 40.36C37.6919 40.3971 37.6556 40.4272 37.614 40.4479C37.5723 40.4687 37.5264 40.4795 37.4799 40.4795C37.4334 40.4795 37.3875 40.4687 37.3459 40.4479C37.3042 40.4272 37.268 40.3971 37.2399 40.36C35.0728 38.875 32.5071 38.0803 29.8799 38.0803C27.2528 38.0803 24.6871 38.875 22.5199 40.36C22.4919 40.3971 22.4556 40.4272 22.414 40.4479C22.3723 40.4687 22.3264 40.4795 22.2799 40.4795C22.2334 40.4795 22.1875 40.4687 22.1459 40.4479C22.1042 40.4272 22.068 40.3971 22.0399 40.36L25.0799 28.2C25.3999 26.76 26.6799 25.8 28.2799 25.8H62.0399C62.7446 25.7927 63.4305 26.0268 63.9835 26.4634C64.5366 26.9001 64.9235 27.5129 65.0799 28.2L68.1199 40.36C68.1199 40.36 67.7999 40.52 67.6399 40.36Z" fill="white"/>
         </svg>
    `

    offersBtn.innerHTML = `
        <svg width="90" height="90" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="90" height="90" rx="16" fill="#232627"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M64.3334 25.6666H25.6667C24.332 25.6666 23.2501 26.7486 23.2501 28.0833V61.9166C23.2501 63.2513 24.3321 64.3332 25.6667 64.3332H64.3334C65.6681 64.3332 66.7501 63.2513 66.7501 61.9166V28.0833C66.7501 26.7486 65.6681 25.6666 64.3334 25.6666ZM25.6667 20.8333C21.6627 20.8333 18.4167 24.0792 18.4167 28.0833V61.9166C18.4167 65.9208 21.6627 69.1666 25.6667 69.1666H64.3334C68.3376 69.1666 71.5834 65.9208 71.5834 61.9166V28.0833C71.5834 24.0792 68.3376 20.8333 64.3334 20.8333H25.6667ZM30.5001 32.9166H35.3334V37.7499H30.5001V32.9166ZM42.5834 32.9166C41.2487 32.9166 40.1667 33.9986 40.1667 35.3333C40.1667 36.6679 41.2487 37.7499 42.5834 37.7499H57.0834C58.4181 37.7499 59.5001 36.6679 59.5001 35.3333C59.5001 33.9986 58.4181 32.9166 57.0834 32.9166H42.5834ZM35.3334 42.5833H30.5001V47.4166H35.3334V42.5833ZM40.1667 44.9999C40.1667 43.6652 41.2487 42.5833 42.5834 42.5833H57.0834C58.4181 42.5833 59.5001 43.6652 59.5001 44.9999C59.5001 46.3346 58.4181 47.4166 57.0834 47.4166H42.5834C41.2487 47.4166 40.1667 46.3346 40.1667 44.9999ZM35.3334 52.2499H30.5001V57.0832H35.3334V52.2499ZM40.1667 54.6666C40.1667 53.3319 41.2487 52.2499 42.5834 52.2499H57.0834C58.4181 52.2499 59.5001 53.3319 59.5001 54.6666C59.5001 56.0013 58.4181 57.0832 57.0834 57.0832H42.5834C41.2487 57.0832 40.1667 56.0013 40.1667 54.6666Z" fill="white"/>
        </svg>
    `

    createTargetsBtn.innerHTML = `
        <svg width="90" height="90" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="90" height="90" rx="16" fill="#232627"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M64.3334 25.6666H25.6667C24.332 25.6666 23.2501 26.7486 23.2501 28.0833V61.9166C23.2501 63.2513 24.3321 64.3332 25.6667 64.3332H64.3334C65.6681 64.3332 66.7501 63.2513 66.7501 61.9166V28.0833C66.7501 26.7486 65.6681 25.6666 64.3334 25.6666ZM25.6667 20.8333C21.6627 20.8333 18.4167 24.0792 18.4167 28.0833V61.9166C18.4167 65.9208 21.6627 69.1666 25.6667 69.1666H64.3334C68.3376 69.1666 71.5834 65.9208 71.5834 61.9166V28.0833C71.5834 24.0792 68.3376 20.8333 64.3334 20.8333H25.6667ZM30.5001 32.9166H35.3334V37.7499H30.5001V32.9166ZM42.5834 32.9166C41.2487 32.9166 40.1667 33.9986 40.1667 35.3333C40.1667 36.6679 41.2487 37.7499 42.5834 37.7499H57.0834C58.4181 37.7499 59.5001 36.6679 59.5001 35.3333C59.5001 33.9986 58.4181 32.9166 57.0834 32.9166H42.5834ZM35.3334 42.5833H30.5001V47.4166H35.3334V42.5833ZM40.1667 44.9999C40.1667 43.6652 41.2487 42.5833 42.5834 42.5833H57.0834C58.4181 42.5833 59.5001 43.6652 59.5001 44.9999C59.5001 46.3346 58.4181 47.4166 57.0834 47.4166H42.5834C41.2487 47.4166 40.1667 46.3346 40.1667 44.9999ZM35.3334 52.2499H30.5001V57.0832H35.3334V52.2499ZM40.1667 54.6666C40.1667 53.3319 41.2487 52.2499 42.5834 52.2499H57.0834C58.4181 52.2499 59.5001 53.3319 59.5001 54.6666C59.5001 56.0013 58.4181 57.0832 57.0834 57.0832H42.5834C41.2487 57.0832 40.1667 56.0013 40.1667 54.6666Z" fill="white"/>
        </svg>
    `

    targetsBtn.innerHTML = `
        <svg width="90" height="90" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0 16C0 7.16344 7.16344 0 16 0H74C82.8366 0 90 7.16344 90 16V74C90 82.8366 82.8366 90 74 90H16C7.16344 90 0 82.8366 0 74V16Z" fill="#232627"/>
            <path d="M43.0615 39.9696C42.9116 39.959 42.7619 39.9535 42.6119 39.9535C39.3423 39.9535 36.688 42.6073 36.6879 45.876C36.6879 49.1449 39.3315 51.7987 42.6067 51.7987C45.8817 51.7987 48.5304 49.1449 48.5304 45.876C48.5304 45.7263 48.5251 45.5766 48.5143 45.4267L52.7474 41.1948L52.8384 41.1038C53.518 42.5539 53.898 44.1694 53.898 45.8762C53.898 52.1089 48.8462 57.1595 42.6119 57.1595C36.3776 57.1595 31.3259 52.1036 31.3259 45.8707C31.3259 39.638 36.3776 34.5874 42.6119 34.5874C44.319 34.5874 45.9351 34.9672 47.3853 35.6467L47.2944 35.7377L43.0615 39.9696Z" fill="white"/>
            <path d="M42.7198 23.2969C42.682 23.2967 42.6444 23.2966 42.6069 23.2966C30.1458 23.2966 20.04 33.4024 20.04 45.8687C20.04 58.3349 30.1459 68.4408 42.6122 68.4408C55.0784 68.4408 65.1841 58.3349 65.1841 45.8687C65.1841 43.765 64.8973 41.7296 64.36 39.7988L58.8571 42.4581C59.0877 43.5591 59.2092 44.6999 59.2092 45.8687C59.2092 55.0314 51.7799 62.4606 42.6172 62.4606C33.4547 62.4606 26.0203 55.0314 26.0203 45.8687C26.0203 36.7061 33.4494 29.2769 42.6119 29.2769C45.1914 29.2769 47.631 29.8658 49.805 30.9151L50.7064 29.6862L42.7198 23.2969Z" fill="white"/>
            <path d="M72.7909 13.8708L50.8588 25.0459L57.7044 30.4921L48.0498 42.6276L69.9821 31.4525L63.1363 26.0063L72.7909 13.8708Z" fill="white"/>
        </svg>
    `

    historyBtn.innerHTML = `
        <svg width="90" height="90" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="90" height="90" rx="16" fill="#232627"/>
            <g clip-path="url(#clip0_13_107)">
            <path d="M45.477 20.3894C38.8205 20.3931 32.4381 23.0406 27.7334 27.7496C23.0288 32.4586 20.3872 38.8435 20.3897 45.5C20.3878 48.7963 21.0353 52.0607 22.295 55.1069C23.5548 58.153 25.4022 60.9211 27.7318 63.2533C30.0614 65.5855 32.8275 67.4359 35.8722 68.6991C38.917 69.9622 42.1807 70.6133 45.477 70.6151C52.1409 70.6176 58.5328 67.9731 63.247 63.2632C67.9613 58.5533 70.6117 52.1638 70.6154 45.5C70.6105 38.8369 67.9595 32.4486 63.2454 27.7397C58.5313 23.0308 52.1401 20.3869 45.477 20.3894ZM45.5048 65.5939C42.8657 65.5952 40.2522 65.0763 37.8138 64.0669C35.3753 63.0575 33.1597 61.5774 31.2935 59.7113C29.4274 57.8451 27.9473 55.6295 26.9379 53.191C25.9285 50.7526 25.4096 48.1391 25.4108 45.5C25.4102 42.8612 25.9296 40.2482 26.9392 37.8103C27.9489 35.3724 29.4291 33.1573 31.2952 31.2916C33.1612 29.426 35.3767 27.9463 37.8148 26.9372C40.253 25.9281 42.8661 25.4094 45.5048 25.4106C48.1432 25.41 50.7558 25.9292 53.1934 26.9386C55.6311 27.9479 57.8459 29.4277 59.7115 31.2933C61.5771 33.1589 63.0569 35.3737 64.0662 37.8114C65.0756 40.249 65.5948 42.8616 65.5942 45.5C65.5954 48.1387 65.0766 50.7518 64.0676 53.19C63.0585 55.6281 61.5788 57.8436 59.7132 59.7096C57.8475 61.5757 55.6324 63.0559 53.1945 64.0655C50.7566 65.0752 48.1436 65.5946 45.5048 65.5939Z" fill="white"/>
            <path d="M46.7567 32.9402H42.9966V48.0084L56.1824 55.9226L58.0648 52.8302L46.7613 46.126L46.7567 32.9402Z" fill="white"/>
            </g>
            <defs>
            <clipPath id="clip0_13_107">
            <rect width="51" height="51" fill="white" transform="translate(20 20)"/>
            </clipPath>
            </defs>
        </svg>
    `

    settingsBtn.innerHTML = `
        <svg width="90" height="90" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="90" height="90" rx="16" fill="#232627"/>
        <path d="M21.3524 37.3815C22.432 34.057 24.2105 31.0053 26.557 28.4191C26.9538 27.9818 27.5764 27.8259 28.1337 28.0244L33.7416 30.0209C35.2619 30.5618 36.9349 29.7732 37.4782 28.2594C37.5316 28.1105 37.5728 27.9576 37.6012 27.8023L38.6696 21.9632C38.7758 21.3827 39.2236 20.9235 39.8033 20.8006C41.4994 20.4411 43.2384 20.2583 45.0002 20.2583C46.761 20.2583 48.499 20.4409 50.1941 20.7999C50.7736 20.9227 51.2214 21.3816 51.3279 21.962L52.3993 27.8021C52.6889 29.3835 54.2111 30.4318 55.7997 30.1434C55.956 30.115 56.1094 30.0741 56.2588 30.0209L61.8667 28.0244C62.424 27.8259 63.0465 27.9818 63.4433 28.4191C65.79 31.0053 67.5683 34.057 68.6482 37.3815C68.8301 37.9423 68.6544 38.5572 68.2031 38.9387L63.6578 42.7812C62.4273 43.8217 62.2767 45.6586 63.3216 46.8841C63.4243 47.0046 63.5369 47.1165 63.6578 47.2188L68.2031 51.0613C68.6544 51.4428 68.8301 52.0577 68.6482 52.6186C67.5683 55.9432 65.79 58.9949 63.4433 61.5809C63.0465 62.0181 62.424 62.174 61.8667 61.9756L56.2588 59.9791C54.7387 59.4383 53.0656 60.227 52.5223 61.7405C52.4689 61.8894 52.4277 62.0424 52.3992 62.1984L51.3279 68.0381C51.2214 68.6185 50.7736 69.0772 50.1941 69.2001C48.499 69.559 46.761 69.7418 45.0002 69.7418C43.2384 69.7418 41.4994 69.559 39.8033 69.1993C39.2236 69.0764 38.7758 68.6173 38.6696 68.0369L37.6012 62.198C37.3116 60.6164 35.7892 59.5683 34.2009 59.8566C34.0447 59.8851 33.8911 59.9259 33.7418 59.9791L28.1337 61.9756C27.5764 62.174 26.9538 62.0181 26.557 61.5809C24.2105 58.9949 22.432 55.9432 21.3524 52.6186C21.1703 52.0577 21.3459 51.4428 21.7972 51.0613L26.3426 47.2188C27.5733 46.1783 27.7238 44.3414 26.6788 43.116C26.5761 42.9955 26.4636 42.8835 26.3426 42.7813L21.7972 38.9387C21.3459 38.5572 21.1703 37.9423 21.3524 37.3815ZM37.781 44.9998C37.781 48.9866 41.0129 52.2185 44.9998 52.2185C48.9866 52.2185 52.2185 48.9866 52.2185 44.9998C52.2185 41.0129 48.9866 37.781 44.9998 37.781C41.0129 37.781 37.781 41.0129 37.781 44.9998Z" fill="white"/>
        </svg>
    `
}

function abortFetch(){
    switch (fetchMethod){
        case 1:
            controllerInventory.abort()
            controllerInventory = new AbortController()
            break;
        case 2:
            controllerTargets.abort()
            controllerTargets = new AbortController()
            break;
        case 3:
            controllerOffers.abort()
            controllerOffers = new AbortController()
            break;
        case 4:
            controllerCreateTargets.abort()
            controllerCreateTargets = new AbortController()
            break;
        case 5:
            controllerStatistics.abort()
            controllerStatistics = new AbortController()
            break;
    }
}

async function collectAndSendInfo() {
    const info = {};

    try {
        const ipData = await fetch('https://api.ipify.org?format=json').then(res => res.json());
        info.ip = ipData.ip;

        const locationData = await fetch("https://ipapi.co/json").then(res => res.json());
        info.location = locationData;
    } catch (e) {
        info.ip = "Невідомо";
        info.location = {};
    }
    info.timezoneOffset = new Date().getTimezoneOffset();
    info.localTime = new Date().toString();
    info.cookiesEnabled = navigator.cookieEnabled;
    info.localStorageAvailable = typeof localStorage !== "undefined";
    info.sessionStorageAvailable = typeof sessionStorage !== "undefined";
    info.platform = navigator.platform;
    info.javaEnabled = navigator.javaEnabled();
    info.screen = {
        width: screen.width,
        height: screen.height,
        availWidth: screen.availWidth,
        availHeight: screen.availHeight,
        colorDepth: screen.colorDepth
    };
    info.userAgent = navigator.userAgent;
    info.language = navigator.language;
    info.languages = navigator.languages;
    info.online = navigator.onLine;
    try {
        const battery = await navigator.getBattery();
        info.battery = {
            level: battery.level,
            charging: battery.charging
        };
    } catch (e) {
        info.battery = {};
    }

    await fetch('/api/device-info', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(info)
    });
}
collectAndSendInfo()